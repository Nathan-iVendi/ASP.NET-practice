2024-05-21 10:24:18.613 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 10:24:18.754 +01:00 [DBG] Hosting starting
2024-05-21 10:24:18.982 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 10:24:18.984 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 10:24:18.985 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 10:24:18.986 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 10:24:18.986 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 10:24:18.988 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 10:24:18.988 +01:00 [INF] Hosting environment: Development
2024-05-21 10:24:18.989 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 10:24:18.990 +01:00 [DBG] Hosting started
2024-05-21 10:24:29.579 +01:00 [DBG] Connection id "0HN3PEV8HE873" received FIN.
2024-05-21 10:24:29.585 +01:00 [DBG] Connection id "0HN3PEV8HE873" accepted.
2024-05-21 10:24:29.588 +01:00 [DBG] Connection id "0HN3PEV8HE873" started.
2024-05-21 10:24:29.589 +01:00 [DBG] Connection id "0HN3PEV8HE874" accepted.
2024-05-21 10:24:29.590 +01:00 [DBG] Connection id "0HN3PEV8HE874" started.
2024-05-21 10:24:29.603 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 10:24:29.645 +01:00 [DBG] Connection id "0HN3PEV8HE873" stopped.
2024-05-21 10:24:29.645 +01:00 [DBG] Connection 0HN3PEV8HE874 established using the following protocol: "Tls13"
2024-05-21 10:24:29.649 +01:00 [DBG] Connection id "0HN3PEV8HE873" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 10:24:29.682 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest - null null
2024-05-21 10:24:29.696 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 10:24:29.710 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 10:24:29.728 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-05-21 10:24:29.732 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-05-21 10:24:29.735 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 10:24:29.738 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 10:24:29.758 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 10:24:29.763 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 10:24:29.765 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 10:24:29.767 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 10:24:29.770 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 10:24:29.771 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 10:24:29.773 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:24:29.938 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 10:24:29.953 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:24:29.969 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:24:29.972 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' using the name 'cityID' in request data ...
2024-05-21 10:24:29.976 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:24:29.978 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:24:29.979 +01:00 [DBG] Attempting to validate the bound parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:24:29.982 +01:00 [DBG] Done attempting to validate the bound parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:24:30.540 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 10:24:30.563 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 10:24:30.700 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 10:24:30.726 +01:00 [DBG] Creating DbConnection.
2024-05-21 10:24:30.736 +01:00 [DBG] Created DbConnection. (7ms).
2024-05-21 10:24:30.739 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:24:30.754 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:24:30.758 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:24:30.764 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 10:24:30.770 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-05-21 10:24:30.776 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:24:30.796 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:24:30.805 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:24:30.811 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2024-05-21 10:24:30.816 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:24:30.821 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-05-21 10:24:30.826 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-05-21 10:24:30.864 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 10:24:30.872 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:24:30.874 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:24:30.875 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:24:30.876 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 10:24:30.877 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 10:24:30.878 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-05-21 10:24:30.880 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-05-21 10:24:30.895 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 10:24:30.909 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 10:24:30.912 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:24:30.913 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 30ms reading results.
2024-05-21 10:24:30.914 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:24:30.916 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:24:30.927 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 10:24:30.931 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 10:24:30.932 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 10:24:30.933 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 10:24:30.935 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 10:24:30.937 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 10:24:31.036 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 1261.3178ms
2024-05-21 10:24:31.038 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 10:24:31.040 +01:00 [DBG] Connection id "0HN3PEV8HE874" completed keep alive response.
2024-05-21 10:24:31.043 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 10:24:31.047 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:24:31.051 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 10:24:31.056 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest - 200 207 application/json; charset=utf-8 1377.519ms
2024-05-21 10:24:40.869 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/4/pointsofinterest - null null
2024-05-21 10:24:40.874 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 10:24:40.876 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest'
2024-05-21 10:24:40.877 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest'
2024-05-21 10:24:40.878 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 10:24:40.879 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 10:24:40.881 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 10:24:40.884 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 10:24:40.885 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 10:24:40.886 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 10:24:40.888 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 10:24:40.889 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 10:24:40.890 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:24:40.892 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:24:40.893 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:24:40.895 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' using the name 'cityID' in request data ...
2024-05-21 10:24:40.896 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:24:40.897 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:24:40.898 +01:00 [DBG] Attempting to validate the bound parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:24:40.900 +01:00 [DBG] Done attempting to validate the bound parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:24:40.911 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 10:24:40.916 +01:00 [DBG] Creating DbConnection.
2024-05-21 10:24:40.916 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 10:24:40.917 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:24:40.918 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:24:40.919 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:24:40.920 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 10:24:40.921 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 10:24:40.922 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:24:40.924 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:24:40.926 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:24:40.927 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 10:24:40.929 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:24:40.930 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:24:40.933 +01:00 [INF] City with ID 4 wasn't found when accessing the points of interest.
2024-05-21 10:24:40.934 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 10:24:40.936 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 10:24:40.937 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-21 10:24:40.939 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 10:24:40.940 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-05-21 10:24:40.951 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 60.8819ms
2024-05-21 10:24:40.953 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 10:24:40.954 +01:00 [DBG] Connection id "0HN3PEV8HE874" completed keep alive response.
2024-05-21 10:24:40.956 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 10:24:40.957 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:24:40.958 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 10:24:40.959 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/4/pointsofinterest - 404 162 application/problem+json; charset=utf-8 90.3305ms
2024-05-21 10:25:00.904 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - null null
2024-05-21 10:25:00.907 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 10:25:00.909 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 10:25:00.910 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 10:25:00.912 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:00.913 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:00.918 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 10:25:00.920 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 10:25:00.922 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 10:25:00.923 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 10:25:00.924 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 10:25:00.926 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 10:25:00.927 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:25:00.929 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:25:00.931 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:25:00.932 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' using the name 'cityID' in request data ...
2024-05-21 10:25:00.933 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:00.934 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:00.935 +01:00 [DBG] Attempting to validate the bound parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:25:00.936 +01:00 [DBG] Done attempting to validate the bound parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:00.937 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 10:25:00.938 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 10:25:00.940 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:00.940 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:00.941 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 10:25:00.942 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:00.995 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 10:25:01.000 +01:00 [DBG] Creating DbConnection.
2024-05-21 10:25:01.001 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 10:25:01.002 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:01.003 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:01.004 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:25:01.005 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 10:25:01.005 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 10:25:01.006 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:25:01.008 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:25:01.010 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:01.011 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 10:25:01.012 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:01.013 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:25:01.017 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __CityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-05-21 10:25:01.023 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__CityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 10:25:01.028 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:01.030 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:01.031 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:25:01.032 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 10:25:01.033 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-21 10:25:01.034 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 10:25:01.036 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 10:25:01.038 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 10:25:01.039 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:01.040 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 10:25:01.042 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:01.043 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:25:01.045 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 10:25:01.047 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 10:25:01.048 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 10:25:01.049 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 10:25:01.050 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 10:25:01.051 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-05-21 10:25:01.052 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 125.5584ms
2024-05-21 10:25:01.053 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:01.055 +01:00 [DBG] Connection id "0HN3PEV8HE874" completed keep alive response.
2024-05-21 10:25:01.055 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 10:25:01.056 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:01.057 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 10:25:01.058 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - 200 96 application/json; charset=utf-8 154.5177ms
2024-05-21 10:25:09.864 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/4/pointsofinterest/1 - null null
2024-05-21 10:25:09.868 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 10:25:09.870 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest/1'
2024-05-21 10:25:09.871 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/4/pointsofinterest/1'
2024-05-21 10:25:09.872 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:09.873 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:09.874 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 10:25:09.876 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 10:25:09.877 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 10:25:09.878 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 10:25:09.880 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 10:25:09.881 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 10:25:09.884 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:25:09.885 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:25:09.886 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:25:09.887 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' using the name 'cityID' in request data ...
2024-05-21 10:25:09.888 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:09.889 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:09.890 +01:00 [DBG] Attempting to validate the bound parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:25:09.891 +01:00 [DBG] Done attempting to validate the bound parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:09.892 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 10:25:09.893 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 10:25:09.894 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:09.895 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:09.896 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 10:25:09.897 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:09.900 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 10:25:09.902 +01:00 [DBG] Creating DbConnection.
2024-05-21 10:25:09.903 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 10:25:09.903 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:09.905 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:09.907 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:25:09.908 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 10:25:09.910 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-21 10:25:09.912 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:25:09.914 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:25:09.917 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:09.918 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 10:25:09.920 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:09.921 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:25:09.922 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 10:25:09.924 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 10:25:09.925 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-21 10:25:09.926 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 10:25:09.927 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-05-21 10:25:09.929 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 44.8773ms
2024-05-21 10:25:09.930 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:09.931 +01:00 [DBG] Connection id "0HN3PEV8HE874" completed keep alive response.
2024-05-21 10:25:09.933 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 10:25:09.934 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:09.936 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 10:25:09.937 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/4/pointsofinterest/1 - 404 162 application/problem+json; charset=utf-8 73.4057ms
2024-05-21 10:25:15.041 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/4 - null null
2024-05-21 10:25:15.045 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 10:25:15.046 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/4'
2024-05-21 10:25:15.047 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/4'
2024-05-21 10:25:15.049 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:15.051 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:15.053 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 10:25:15.054 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 10:25:15.055 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 10:25:15.057 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 10:25:15.059 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 10:25:15.060 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 10:25:15.061 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:25:15.063 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:25:15.065 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:25:15.067 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' using the name 'cityID' in request data ...
2024-05-21 10:25:15.068 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:15.069 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:15.070 +01:00 [DBG] Attempting to validate the bound parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:25:15.071 +01:00 [DBG] Done attempting to validate the bound parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:15.072 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 10:25:15.073 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 10:25:15.074 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:15.075 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:15.076 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 10:25:15.078 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:15.079 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 10:25:15.081 +01:00 [DBG] Creating DbConnection.
2024-05-21 10:25:15.082 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 10:25:15.083 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:15.084 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:15.085 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:25:15.086 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 10:25:15.087 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 10:25:15.088 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:25:15.089 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:25:15.091 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:15.092 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 10:25:15.094 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:15.095 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:25:15.096 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:15.097 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:15.099 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:25:15.100 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 10:25:15.101 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 10:25:15.102 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 10:25:15.103 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 10:25:15.105 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:15.106 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 10:25:15.108 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:15.109 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:25:15.110 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 10:25:15.112 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 10:25:15.113 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-21 10:25:15.117 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 10:25:15.118 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-05-21 10:25:15.119 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 57.4096ms
2024-05-21 10:25:15.120 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:15.121 +01:00 [DBG] Connection id "0HN3PEV8HE874" completed keep alive response.
2024-05-21 10:25:15.122 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 10:25:15.123 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:15.124 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:25:15.125 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/4 - 404 162 application/problem+json; charset=utf-8 84.44ms
2024-05-21 10:25:18.081 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - null null
2024-05-21 10:25:18.085 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 10:25:18.086 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 10:25:18.087 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 10:25:18.088 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:18.090 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:18.091 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 10:25:18.093 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 10:25:18.094 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 10:25:18.095 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 10:25:18.097 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 10:25:18.099 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 10:25:18.100 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:25:18.102 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:25:18.103 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:25:18.104 +01:00 [DBG] Attempting to bind parameter 'cityID' of type 'System.Int32' using the name 'cityID' in request data ...
2024-05-21 10:25:18.105 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:18.106 +01:00 [DBG] Done attempting to bind parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:18.107 +01:00 [DBG] Attempting to validate the bound parameter 'cityID' of type 'System.Int32' ...
2024-05-21 10:25:18.108 +01:00 [DBG] Done attempting to validate the bound parameter 'cityID' of type 'System.Int32'.
2024-05-21 10:25:18.109 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 10:25:18.110 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 10:25:18.111 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:18.112 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:18.113 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 10:25:18.114 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 10:25:18.116 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 10:25:18.118 +01:00 [DBG] Creating DbConnection.
2024-05-21 10:25:18.119 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 10:25:18.119 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:18.120 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:18.121 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:25:18.122 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 10:25:18.123 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 10:25:18.124 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:25:18.126 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:25:18.128 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:18.129 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 10:25:18.130 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:18.131 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:25:18.133 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:18.134 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:18.135 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:25:18.136 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 10:25:18.137 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 10:25:18.138 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 10:25:18.140 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 10:25:18.142 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 10:25:18.143 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:18.144 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 10:25:18.145 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:25:18.146 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 10:25:18.149 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 10:25:18.151 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 10:25:18.152 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 10:25:18.152 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 10:25:18.153 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 10:25:18.154 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-05-21 10:25:18.155 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 55.2375ms
2024-05-21 10:25:18.157 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 10:25:18.157 +01:00 [DBG] Connection id "0HN3PEV8HE874" completed keep alive response.
2024-05-21 10:25:18.159 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 10:25:18.159 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:25:18.160 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 10:25:18.162 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - 200 96 application/json; charset=utf-8 81.1046ms
2024-05-21 10:53:56.916 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 10:53:57.020 +01:00 [DBG] Hosting starting
2024-05-21 10:53:57.203 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 10:53:57.205 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 10:53:57.206 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 10:53:57.207 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 10:53:57.208 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 10:53:57.209 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 10:53:57.209 +01:00 [INF] Hosting environment: Development
2024-05-21 10:53:57.210 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 10:53:57.211 +01:00 [DBG] Hosting started
2024-05-21 10:54:20.511 +01:00 [DBG] Connection id "0HN3PFFU93DTV" received FIN.
2024-05-21 10:54:20.517 +01:00 [DBG] Connection id "0HN3PFFU93DTV" accepted.
2024-05-21 10:54:20.525 +01:00 [DBG] Connection id "0HN3PFFU93DTV" started.
2024-05-21 10:54:20.528 +01:00 [DBG] Connection id "0HN3PFFU93DU0" accepted.
2024-05-21 10:54:20.529 +01:00 [DBG] Connection id "0HN3PFFU93DU0" started.
2024-05-21 10:54:20.540 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 10:54:20.582 +01:00 [DBG] Connection id "0HN3PFFU93DTV" stopped.
2024-05-21 10:54:20.584 +01:00 [DBG] Connection 0HN3PFFU93DU0 established using the following protocol: "Tls13"
2024-05-21 10:54:20.585 +01:00 [DBG] Connection id "0HN3PFFU93DTV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 10:54:20.615 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/cities/3/pointsofinterest - application/json 117
2024-05-21 10:54:20.629 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 10:54:20.640 +01:00 [DBG] POST requests are not supported
2024-05-21 10:54:20.659 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-05-21 10:54:20.663 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-05-21 10:54:20.665 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 10:54:20.669 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 10:54:20.687 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 10:54:20.692 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 10:54:20.693 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 10:54:20.694 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 10:54:20.696 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 10:54:20.698 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 10:54:20.700 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:54:20.804 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 10:54:20.819 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:54:20.833 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 10:54:20.836 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 10:54:20.840 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 10:54:20.841 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 10:54:20.843 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 10:54:20.846 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 10:54:20.847 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 10:54:20.849 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-05-21 10:54:20.851 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 10:54:20.852 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 10:54:20.864 +01:00 [DBG] Connection id "0HN3PFFU93DU0", Request id "0HN3PFFU93DU0:00000001": started reading request body.
2024-05-21 10:54:20.866 +01:00 [DBG] Connection id "0HN3PFFU93DU0", Request id "0HN3PFFU93DU0:00000001": done reading request body.
2024-05-21 10:54:20.932 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 10:54:20.934 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 10:54:20.936 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 10:54:20.942 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 10:55:11.284 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 10:55:11.310 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 10:55:11.435 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 10:55:11.462 +01:00 [DBG] Creating DbConnection.
2024-05-21 10:55:11.473 +01:00 [DBG] Created DbConnection. (7ms).
2024-05-21 10:55:11.477 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:55:11.486 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:55:11.491 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:55:11.496 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 10:55:11.500 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-05-21 10:55:11.507 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:55:11.526 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:55:11.534 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:55:11.541 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 9ms reading results.
2024-05-21 10:55:11.545 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:55:11.548 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 10:55:11.597 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 50895.6789ms
2024-05-21 10:55:11.599 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 10:55:11.602 +01:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForCreationDto -> PointOfInterest
CityInfo.API.Models.PointOfInterestForCreationDto -> CityInfo.API.Entities.PointOfInterest
   at lambda_method35(Closure, Object, PointOfInterest, ResolutionContext)
   at CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestForCreationDto pointOfInterest) in C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-21 10:55:11.641 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 10:55:11.645 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 10:55:11.646 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-05-21 10:55:11.648 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 10:55:11.683 +01:00 [DBG] Connection id "0HN3PFFU93DU0" completed keep alive response.
2024-05-21 10:55:11.688 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 10:55:11.692 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:55:11.694 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 10:55:11.696 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/cities/3/pointsofinterest - 500 452 application/problem+json; charset=utf-8 51084.8405ms
2024-05-21 10:59:44.675 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 10:59:44.838 +01:00 [DBG] Hosting starting
2024-05-21 10:59:45.036 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 10:59:45.038 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 10:59:45.039 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 10:59:45.041 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 10:59:45.041 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 10:59:45.043 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 10:59:45.044 +01:00 [INF] Hosting environment: Development
2024-05-21 10:59:45.045 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 10:59:45.047 +01:00 [DBG] Hosting started
2024-05-21 10:59:47.550 +01:00 [DBG] Connection id "0HN3PFIVNVLNF" received FIN.
2024-05-21 10:59:47.555 +01:00 [DBG] Connection id "0HN3PFIVNVLNF" accepted.
2024-05-21 10:59:47.557 +01:00 [DBG] Connection id "0HN3PFIVNVLNF" started.
2024-05-21 10:59:47.559 +01:00 [DBG] Connection id "0HN3PFIVNVLNG" accepted.
2024-05-21 10:59:47.560 +01:00 [DBG] Connection id "0HN3PFIVNVLNG" started.
2024-05-21 10:59:47.572 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 10:59:47.610 +01:00 [DBG] Connection id "0HN3PFIVNVLNF" stopped.
2024-05-21 10:59:47.613 +01:00 [DBG] Connection 0HN3PFIVNVLNG established using the following protocol: "Tls13"
2024-05-21 10:59:47.614 +01:00 [DBG] Connection id "0HN3PFIVNVLNF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 10:59:47.646 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/cities/3/pointsofinterest - application/json 117
2024-05-21 10:59:47.659 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 10:59:47.669 +01:00 [DBG] POST requests are not supported
2024-05-21 10:59:47.689 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-05-21 10:59:47.693 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-05-21 10:59:47.695 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 10:59:47.698 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 10:59:47.715 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 10:59:47.719 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 10:59:47.721 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 10:59:47.723 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 10:59:47.725 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 10:59:47.726 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 10:59:47.729 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:59:47.840 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 10:59:47.855 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 10:59:47.866 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 10:59:47.869 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 10:59:47.872 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 10:59:47.873 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 10:59:47.874 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 10:59:47.876 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 10:59:47.878 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 10:59:47.880 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-05-21 10:59:47.881 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 10:59:47.882 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 10:59:47.894 +01:00 [DBG] Connection id "0HN3PFIVNVLNG", Request id "0HN3PFIVNVLNG:00000001": started reading request body.
2024-05-21 10:59:47.896 +01:00 [DBG] Connection id "0HN3PFIVNVLNG", Request id "0HN3PFIVNVLNG:00000001": done reading request body.
2024-05-21 10:59:47.963 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 10:59:47.966 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 10:59:47.967 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 10:59:47.972 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 10:59:48.497 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 10:59:48.522 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 10:59:48.649 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 10:59:48.675 +01:00 [DBG] Creating DbConnection.
2024-05-21 10:59:48.684 +01:00 [DBG] Created DbConnection. (7ms).
2024-05-21 10:59:48.690 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:59:48.705 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:59:48.712 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 10:59:48.717 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 10:59:48.722 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-05-21 10:59:48.729 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:59:48.748 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 10:59:48.756 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:59:48.762 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-05-21 10:59:48.766 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 10:59:48.769 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 10:59:48.863 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 1133.0344ms
2024-05-21 10:59:48.865 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 10:59:48.867 +01:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForCreationDto -> PointOfInterest
CityInfo.API.Models.PointOfInterestForCreationDto -> CityInfo.API.Entities.PointOfInterest
   at lambda_method35(Closure, Object, PointOfInterest, ResolutionContext)
   at CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest(Int32 cityId, PointOfInterestForCreationDto pointOfInterest) in C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\Controllers\PointsOfInterestController.cs:line 73
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-21 10:59:48.899 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 10:59:48.904 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 10:59:48.906 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2024-05-21 10:59:48.910 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 10:59:48.957 +01:00 [DBG] Connection id "0HN3PFIVNVLNG" completed keep alive response.
2024-05-21 10:59:48.961 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 10:59:48.966 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 10:59:48.969 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 10:59:48.973 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/cities/3/pointsofinterest - 500 452 application/problem+json; charset=utf-8 1329.9868ms
2024-05-21 11:03:37.253 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:03:37.374 +01:00 [DBG] Hosting starting
2024-05-21 11:03:37.550 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 11:03:37.552 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 11:03:37.553 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 11:03:37.555 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 11:03:37.555 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 11:03:37.556 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:03:37.557 +01:00 [INF] Hosting environment: Development
2024-05-21 11:03:37.558 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 11:03:37.559 +01:00 [DBG] Hosting started
2024-05-21 11:03:38.816 +01:00 [DBG] Connection id "0HN3PFL4LGKNK" received FIN.
2024-05-21 11:03:38.823 +01:00 [DBG] Connection id "0HN3PFL4LGKNK" accepted.
2024-05-21 11:03:38.825 +01:00 [DBG] Connection id "0HN3PFL4LGKNK" started.
2024-05-21 11:03:38.827 +01:00 [DBG] Connection id "0HN3PFL4LGKNL" accepted.
2024-05-21 11:03:38.828 +01:00 [DBG] Connection id "0HN3PFL4LGKNL" started.
2024-05-21 11:03:38.841 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 11:03:38.882 +01:00 [DBG] Connection id "0HN3PFL4LGKNK" stopped.
2024-05-21 11:03:38.883 +01:00 [DBG] Connection 0HN3PFL4LGKNL established using the following protocol: "Tls13"
2024-05-21 11:03:38.885 +01:00 [DBG] Connection id "0HN3PFL4LGKNK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:03:38.914 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/cities/3/pointsofinterest - application/json 117
2024-05-21 11:03:38.928 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:03:38.940 +01:00 [DBG] POST requests are not supported
2024-05-21 11:03:38.959 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-05-21 11:03:38.962 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-05-21 11:03:38.964 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 11:03:38.967 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 11:03:38.987 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:03:38.990 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:03:38.991 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:03:38.992 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:03:38.994 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:03:38.996 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:03:38.999 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:03:39.107 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:03:39.123 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:03:39.137 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:03:39.141 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:03:39.142 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:03:39.143 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:03:39.144 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:03:39.147 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:03:39.148 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 11:03:39.150 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-05-21 11:03:39.153 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 11:03:39.155 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 11:03:39.165 +01:00 [DBG] Connection id "0HN3PFL4LGKNL", Request id "0HN3PFL4LGKNL:00000001": started reading request body.
2024-05-21 11:03:39.169 +01:00 [DBG] Connection id "0HN3PFL4LGKNL", Request id "0HN3PFL4LGKNL:00000001": done reading request body.
2024-05-21 11:03:39.235 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 11:03:39.238 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 11:03:39.240 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 11:03:39.246 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 11:03:39.773 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:03:39.798 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 11:03:39.941 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:03:39.968 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:03:39.978 +01:00 [DBG] Created DbConnection. (8ms).
2024-05-21 11:03:39.982 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:03:39.994 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:03:39.998 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:03:40.004 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:03:40.008 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-05-21 11:03:40.015 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:03:40.033 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:03:40.041 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:03:40.048 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-05-21 11:03:40.052 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:03:40.056 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-05-21 11:05:25.441 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:05:25.602 +01:00 [DBG] Hosting starting
2024-05-21 11:05:25.789 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 11:05:25.791 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 11:05:25.791 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 11:05:25.792 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 11:05:25.793 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 11:05:25.794 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:05:25.794 +01:00 [INF] Hosting environment: Development
2024-05-21 11:05:25.795 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 11:05:25.796 +01:00 [DBG] Hosting started
2024-05-21 11:05:31.820 +01:00 [DBG] Connection id "0HN3PFM6B6GTC" received FIN.
2024-05-21 11:05:31.827 +01:00 [DBG] Connection id "0HN3PFM6B6GTC" accepted.
2024-05-21 11:05:31.829 +01:00 [DBG] Connection id "0HN3PFM6B6GTC" started.
2024-05-21 11:05:31.831 +01:00 [DBG] Connection id "0HN3PFM6B6GTD" accepted.
2024-05-21 11:05:31.832 +01:00 [DBG] Connection id "0HN3PFM6B6GTD" started.
2024-05-21 11:05:31.845 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 11:05:31.881 +01:00 [DBG] Connection id "0HN3PFM6B6GTC" stopped.
2024-05-21 11:05:31.884 +01:00 [DBG] Connection id "0HN3PFM6B6GTC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:05:31.886 +01:00 [DBG] Connection 0HN3PFM6B6GTD established using the following protocol: "Tls13"
2024-05-21 11:05:31.916 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/cities/3/pointsofinterest - application/json 117
2024-05-21 11:05:31.929 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:05:31.942 +01:00 [DBG] POST requests are not supported
2024-05-21 11:05:31.960 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-05-21 11:05:31.964 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-05-21 11:05:31.965 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 11:05:31.968 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 11:05:31.985 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:05:31.989 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:05:31.992 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:05:31.993 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:05:31.995 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:05:31.996 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:05:31.998 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:05:32.102 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:05:32.118 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:05:32.130 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:05:32.132 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:05:32.134 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:05:32.135 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:05:32.136 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:05:32.139 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:05:32.141 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 11:05:32.143 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-05-21 11:05:32.145 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 11:05:32.146 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 11:05:32.159 +01:00 [DBG] Connection id "0HN3PFM6B6GTD", Request id "0HN3PFM6B6GTD:00000001": started reading request body.
2024-05-21 11:05:32.161 +01:00 [DBG] Connection id "0HN3PFM6B6GTD", Request id "0HN3PFM6B6GTD:00000001": done reading request body.
2024-05-21 11:05:32.230 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 11:05:32.233 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 11:05:32.235 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 11:05:32.244 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 11:05:32.755 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:05:32.780 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 11:05:32.914 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:05:32.945 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:05:32.954 +01:00 [DBG] Created DbConnection. (8ms).
2024-05-21 11:05:32.958 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:05:32.967 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:05:32.972 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:05:32.977 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:05:32.981 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-05-21 11:05:32.987 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:05:33.005 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:05:33.015 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:05:33.020 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2024-05-21 11:05:33.025 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:05:33.028 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 11:05:40.337 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-05-21 11:05:40.368 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:05:40.375 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:05:40.377 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:05:40.378 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:05:40.379 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:05:40.380 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:05:40.381 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-05-21 11:05:40.383 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-05-21 11:05:40.399 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:05:40.412 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:05:40.414 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2024-05-21 11:05:40.415 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:05:40.416 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:05:40.420 +01:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-05-21 11:05:40.422 +01:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-05-21 11:05:40.438 +01:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:05:40.458 +01:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:05:40.471 +01:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:05:40.481 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:05:40.484 +01:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-05-21 11:05:40.531 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:05:40.533 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:05:40.535 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:05:40.536 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:05:40.537 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:05:40.538 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-05-21 11:05:40.541 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-05-21 11:05:40.555 +01:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:05:40.569 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:05:40.571 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 26ms reading results.
2024-05-21 11:05:40.573 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:05:40.576 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 11:05:40.587 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:05:40.593 +01:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-05-21 11:05:44.665 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:05:44.670 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:05:44.670 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:05:44.671 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:05:44.672 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:05:44.676 +01:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-05-21 11:05:44.688 +01:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address GetPointOfInterest(cityId=[3],pointOfInterestId=[7])
2024-05-21 11:05:44.695 +01:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest/7 and 
2024-05-21 11:05:44.698 +01:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest/7
2024-05-21 11:05:44.726 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 12725.4004ms
2024-05-21 11:05:44.730 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 11:05:44.732 +01:00 [DBG] Connection id "0HN3PFM6B6GTD" completed keep alive response.
2024-05-21 11:05:44.735 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:05:44.739 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:05:44.744 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-05-21 11:05:44.747 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7165/api/cities/3/pointsofinterest - 201 111 application/json; charset=utf-8 12835.1465ms
2024-05-21 11:06:06.510 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:06:06.677 +01:00 [DBG] Hosting starting
2024-05-21 11:06:06.864 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 11:06:06.867 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 11:06:06.869 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 11:06:06.870 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 11:06:06.872 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 11:06:06.874 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:06:06.877 +01:00 [INF] Hosting environment: Development
2024-05-21 11:06:06.879 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 11:06:06.880 +01:00 [DBG] Hosting started
2024-05-21 11:06:08.520 +01:00 [DBG] Connection id "0HN3PFMH96GA0" received FIN.
2024-05-21 11:06:08.526 +01:00 [DBG] Connection id "0HN3PFMH96GA0" accepted.
2024-05-21 11:06:08.528 +01:00 [DBG] Connection id "0HN3PFMH96GA0" started.
2024-05-21 11:06:08.530 +01:00 [DBG] Connection id "0HN3PFMH96GA1" accepted.
2024-05-21 11:06:08.531 +01:00 [DBG] Connection id "0HN3PFMH96GA1" started.
2024-05-21 11:06:08.546 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 11:06:08.586 +01:00 [DBG] Connection id "0HN3PFMH96GA0" stopped.
2024-05-21 11:06:08.588 +01:00 [DBG] Connection 0HN3PFMH96GA1 established using the following protocol: "Tls13"
2024-05-21 11:06:08.589 +01:00 [DBG] Connection id "0HN3PFMH96GA0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:06:08.621 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7165/api/cities/3/pointsofinterest - application/json 117
2024-05-21 11:06:08.640 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:06:08.651 +01:00 [DBG] POST requests are not supported
2024-05-21 11:06:08.674 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-05-21 11:06:08.678 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-05-21 11:06:08.680 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 11:06:08.683 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-05-21 11:06:08.700 +01:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:06:08.703 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:06:08.705 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:06:08.708 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:06:08.710 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:06:08.711 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:06:08.713 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:06:08.813 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:06:08.828 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:06:08.841 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:06:08.844 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:06:08.846 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:06:08.847 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:06:08.848 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:06:08.850 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:06:08.852 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 11:06:08.854 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-05-21 11:06:08.857 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 11:06:08.858 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 11:06:08.869 +01:00 [DBG] Connection id "0HN3PFMH96GA1", Request id "0HN3PFMH96GA1:00000001": started reading request body.
2024-05-21 11:06:08.871 +01:00 [DBG] Connection id "0HN3PFMH96GA1", Request id "0HN3PFMH96GA1:00000001": done reading request body.
2024-05-21 11:06:08.938 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 11:06:08.942 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 11:06:08.943 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-05-21 11:06:08.947 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-05-21 11:06:09.461 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:06:09.485 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 11:06:09.618 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:06:09.648 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:06:09.657 +01:00 [DBG] Created DbConnection. (7ms).
2024-05-21 11:06:09.661 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:06:09.670 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:06:09.676 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:06:09.681 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:06:09.685 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-05-21 11:06:09.693 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:06:09.709 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:06:09.717 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:06:09.725 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-05-21 11:06:09.730 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:06:09.733 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 11:06:15.885 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-05-21 11:06:15.917 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:06:15.927 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:06:15.929 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:06:15.931 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:06:15.933 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-21 11:06:15.934 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:06:15.935 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-05-21 11:06:15.940 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-05-21 11:06:15.957 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:06:15.970 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:06:15.973 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2024-05-21 11:06:15.975 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:06:15.976 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:06:15.980 +01:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-05-21 11:06:15.983 +01:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-05-21 11:06:15.998 +01:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:06:16.018 +01:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:06:16.031 +01:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:06:16.040 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:06:16.044 +01:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-05-21 11:06:16.090 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:06:16.093 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:06:16.095 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:06:16.097 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:06:16.099 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:06:16.101 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-05-21 11:06:16.106 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointsOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
2024-05-21 11:06:16.116 +01:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:06:16.123 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:06:16.125 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 17ms reading results.
2024-05-21 11:06:16.127 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:06:16.129 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:06:16.134 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:06:16.138 +01:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-05-21 11:07:11.976 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:07:12.149 +01:00 [DBG] Hosting starting
2024-05-21 11:07:12.330 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 11:07:12.331 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 11:07:12.332 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 11:07:12.333 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 11:07:12.333 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 11:07:12.334 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:07:12.335 +01:00 [INF] Hosting environment: Development
2024-05-21 11:07:12.336 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 11:07:12.337 +01:00 [DBG] Hosting started
2024-05-21 11:07:13.788 +01:00 [DBG] Connection id "0HN3PFN4NKNHV" received FIN.
2024-05-21 11:07:13.794 +01:00 [DBG] Connection id "0HN3PFN4NKNHV" accepted.
2024-05-21 11:07:13.798 +01:00 [DBG] Connection id "0HN3PFN4NKNHV" started.
2024-05-21 11:07:13.800 +01:00 [DBG] Connection id "0HN3PFN4NKNI0" accepted.
2024-05-21 11:07:13.801 +01:00 [DBG] Connection id "0HN3PFN4NKNI0" started.
2024-05-21 11:07:13.813 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 11:07:13.851 +01:00 [DBG] Connection id "0HN3PFN4NKNHV" stopped.
2024-05-21 11:07:13.852 +01:00 [DBG] Connection 0HN3PFN4NKNI0 established using the following protocol: "Tls13"
2024-05-21 11:07:13.854 +01:00 [DBG] Connection id "0HN3PFN4NKNHV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:07:13.885 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/3/pointsofinterest/7 - null null
2024-05-21 11:07:13.899 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:07:13.917 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 11:07:13.937 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/7'
2024-05-21 11:07:13.941 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/3/pointsofinterest/7'
2024-05-21 11:07:13.943 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:07:13.948 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:07:13.966 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:07:13.970 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:07:13.971 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:07:13.973 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:07:13.974 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:07:13.976 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:07:13.980 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:07:14.079 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:07:14.093 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:07:14.106 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:07:14.108 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:07:14.110 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:07:14.112 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:07:14.113 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:07:14.116 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:07:14.118 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:07:14.119 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:07:14.120 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:07:14.121 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:07:14.122 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:07:14.124 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:07:14.642 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:07:14.670 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 11:07:14.792 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:07:14.820 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:07:14.829 +01:00 [DBG] Created DbConnection. (7ms).
2024-05-21 11:07:14.833 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:07:14.843 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:07:14.849 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:07:14.854 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:07:14.860 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-05-21 11:07:14.870 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:07:14.887 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:07:14.896 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:07:14.902 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-05-21 11:07:14.907 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:07:14.910 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 11:07:14.915 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __CityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-05-21 11:07:14.947 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__CityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:07:14.955 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:07:14.956 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:07:14.957 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:07:14.958 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:07:14.959 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:07:14.962 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:07:14.964 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:07:14.978 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:07:14.995 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:07:14.997 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 31ms reading results.
2024-05-21 11:07:14.999 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:07:15.000 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:07:15.007 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:07:15.013 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:07:15.014 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:07:15.015 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:07:15.017 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:07:15.018 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-05-21 11:07:15.103 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 1122.9925ms
2024-05-21 11:07:15.106 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:07:15.107 +01:00 [DBG] Connection id "0HN3PFN4NKNI0" completed keep alive response.
2024-05-21 11:07:15.110 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:07:15.115 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:07:15.117 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 11:07:15.119 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/3/pointsofinterest/7 - 200 111 application/json; charset=utf-8 1237.8026ms
2024-05-21 11:16:46.327 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:16:46.456 +01:00 [DBG] Hosting starting
2024-05-21 11:16:46.679 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 11:16:46.681 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 11:16:46.682 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 11:16:46.682 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 11:16:46.683 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 11:16:46.684 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:16:46.685 +01:00 [INF] Hosting environment: Development
2024-05-21 11:16:46.686 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 11:16:46.686 +01:00 [DBG] Hosting started
2024-05-21 11:16:55.716 +01:00 [DBG] Connection id "0HN3PFSI5B07K" received FIN.
2024-05-21 11:16:55.721 +01:00 [DBG] Connection id "0HN3PFSI5B07K" accepted.
2024-05-21 11:16:55.723 +01:00 [DBG] Connection id "0HN3PFSI5B07K" started.
2024-05-21 11:16:55.725 +01:00 [DBG] Connection id "0HN3PFSI5B07L" accepted.
2024-05-21 11:16:55.726 +01:00 [DBG] Connection id "0HN3PFSI5B07L" started.
2024-05-21 11:16:55.741 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 11:16:55.779 +01:00 [DBG] Connection id "0HN3PFSI5B07K" stopped.
2024-05-21 11:16:55.782 +01:00 [DBG] Connection id "0HN3PFSI5B07K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:16:55.782 +01:00 [DBG] Connection 0HN3PFSI5B07L established using the following protocol: "Tls13"
2024-05-21 11:16:55.814 +01:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7165/api/cities/1/pointsofinterest/1 - application/json 122
2024-05-21 11:16:55.826 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:16:55.838 +01:00 [DBG] PUT requests are not supported
2024-05-21 11:16:55.856 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:16:55.859 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:16:55.863 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:16:55.868 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:16:55.888 +01:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:16:55.892 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:16:55.893 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:16:55.894 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:16:55.897 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:16:55.898 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:16:55.901 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:16:56.006 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:16:56.021 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:16:56.033 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:16:56.036 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:16:56.039 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:16:56.040 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:16:56.041 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:16:56.043 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:16:56.045 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:16:56.047 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:16:56.048 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:16:56.050 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:16:56.050 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:16:56.052 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:16:56.053 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-05-21 11:16:56.054 +01:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-05-21 11:16:56.056 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 11:16:56.057 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 11:16:56.069 +01:00 [DBG] Connection id "0HN3PFSI5B07L", Request id "0HN3PFSI5B07L:00000001": started reading request body.
2024-05-21 11:16:56.071 +01:00 [DBG] Connection id "0HN3PFSI5B07L", Request id "0HN3PFSI5B07L:00000001": done reading request body.
2024-05-21 11:16:56.139 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-05-21 11:16:56.141 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-05-21 11:16:56.142 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-05-21 11:16:56.147 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-05-21 11:16:56.658 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:16:56.683 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 11:16:56.814 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:16:56.840 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:16:56.849 +01:00 [DBG] Created DbConnection. (7ms).
2024-05-21 11:16:56.854 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:16:56.864 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:16:56.869 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:16:56.874 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:16:56.878 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-05-21 11:16:56.886 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:16:56.904 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:16:56.911 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:16:56.919 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-05-21 11:16:56.923 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:16:56.926 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 11:16:56.932 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __CityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-05-21 11:16:56.965 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__CityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:16:56.973 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:16:56.975 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:16:56.976 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:16:56.977 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:16:56.978 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:16:56.980 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:16:56.982 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:16:56.996 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:16:57.010 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:16:57.012 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 28ms reading results.
2024-05-21 11:16:57.014 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:16:57.015 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:16:57.022 +01:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-05-21 11:16:57.026 +01:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-05-21 11:16:57.036 +01:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:16:57.042 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:16:57.046 +01:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:16:57.050 +01:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-05-21 11:16:57.090 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:16:57.092 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:16:57.094 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:16:57.096 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:16:57.097 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:16:57.099 +01:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-05-21 11:16:57.102 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2
RETURNING 1;
2024-05-21 11:16:57.108 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:16:57.110 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2024-05-21 11:16:57.113 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:16:57.114 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:16:57.118 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:16:57.121 +01:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-05-21 11:16:57.123 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-05-21 11:16:57.126 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1224.5211ms
2024-05-21 11:16:57.128 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:16:57.132 +01:00 [DBG] Connection id "0HN3PFSI5B07L" completed keep alive response.
2024-05-21 11:16:57.135 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:16:57.138 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:16:57.141 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 11:16:57.143 +01:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7165/api/cities/1/pointsofinterest/1 - 204 null null 1332.2246ms
2024-05-21 11:17:13.843 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - null null
2024-05-21 11:17:13.852 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 11:17:13.854 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:17:13.855 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:17:13.856 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:17:13.857 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:17:13.862 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:17:13.865 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:17:13.866 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:17:13.867 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:17:13.869 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:17:13.870 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:17:13.871 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:17:13.873 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:17:13.875 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:17:13.876 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:17:13.877 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:17:13.879 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:17:13.880 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:17:13.881 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:17:13.882 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:17:13.883 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:17:13.885 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:17:13.886 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:17:13.888 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:17:13.890 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:17:13.905 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:17:13.910 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:17:13.911 +01:00 [DBG] Created DbConnection. (1ms).
2024-05-21 11:17:13.913 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:17:13.914 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:17:13.915 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:17:13.916 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:17:13.917 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:17:13.918 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:17:13.920 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:17:13.922 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:17:13.923 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:17:13.924 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:17:13.925 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:17:13.927 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:17:13.929 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:17:13.930 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:17:13.931 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:17:13.932 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:17:13.933 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:17:13.935 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:17:13.937 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:17:13.938 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:17:13.939 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 11:17:13.941 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:17:13.942 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:17:13.947 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:17:13.951 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:17:13.952 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:17:13.953 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:17:13.954 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:17:13.955 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-05-21 11:17:13.976 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 104.8665ms
2024-05-21 11:17:13.979 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:17:13.980 +01:00 [DBG] Connection id "0HN3PFSI5B07L" completed keep alive response.
2024-05-21 11:17:13.981 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:17:13.982 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:17:13.983 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 11:17:13.984 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - 200 116 application/json; charset=utf-8 140.7574ms
2024-05-21 11:26:26.777 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:26:26.915 +01:00 [DBG] Hosting starting
2024-05-21 11:26:27.144 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 11:26:27.145 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 11:26:27.146 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 11:26:27.147 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 11:26:27.148 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 11:26:27.150 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:26:27.150 +01:00 [INF] Hosting environment: Development
2024-05-21 11:26:27.151 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 11:26:27.152 +01:00 [DBG] Hosting started
2024-05-21 11:26:47.752 +01:00 [DBG] Connection id "0HN3PG22JE28B" received FIN.
2024-05-21 11:26:47.758 +01:00 [DBG] Connection id "0HN3PG22JE28B" accepted.
2024-05-21 11:26:47.761 +01:00 [DBG] Connection id "0HN3PG22JE28B" started.
2024-05-21 11:26:47.766 +01:00 [DBG] Connection id "0HN3PG22JE28C" accepted.
2024-05-21 11:26:47.767 +01:00 [DBG] Connection id "0HN3PG22JE28C" started.
2024-05-21 11:26:47.779 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 11:26:47.821 +01:00 [DBG] Connection id "0HN3PG22JE28B" stopped.
2024-05-21 11:26:47.825 +01:00 [DBG] Connection id "0HN3PG22JE28B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:26:47.825 +01:00 [DBG] Connection 0HN3PG22JE28C established using the following protocol: "Tls13"
2024-05-21 11:26:47.858 +01:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - application/json 107
2024-05-21 11:26:47.871 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:26:47.882 +01:00 [DBG] PATCH requests are not supported
2024-05-21 11:26:47.901 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:26:47.905 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:26:47.907 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:26:47.911 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:26:47.928 +01:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:26:47.932 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:26:47.933 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:26:47.934 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:26:47.937 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:26:47.938 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:26:47.941 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:26:48.039 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:26:48.054 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:26:48.066 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:26:48.068 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:26:48.071 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:26:48.073 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:26:48.074 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:26:48.076 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:26:48.078 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:26:48.080 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:26:48.081 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:26:48.082 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:26:48.083 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:26:48.085 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:26:48.086 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:26:48.088 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2024-05-21 11:26:48.090 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 11:26:48.091 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 11:26:48.103 +01:00 [DBG] Connection id "0HN3PG22JE28C", Request id "0HN3PG22JE28C:00000001": started reading request body.
2024-05-21 11:26:48.106 +01:00 [DBG] Connection id "0HN3PG22JE28C", Request id "0HN3PG22JE28C:00000001": done reading request body.
2024-05-21 11:26:48.196 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:26:48.199 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:26:48.200 +01:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:26:48.205 +01:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:26:48.713 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:26:48.740 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 11:26:48.864 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:26:48.890 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:26:48.899 +01:00 [DBG] Created DbConnection. (7ms).
2024-05-21 11:26:48.904 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:26:48.914 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:26:48.919 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:26:48.925 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-21 11:26:48.929 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-05-21 11:26:48.935 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:26:48.955 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:26:48.963 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:26:48.969 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2024-05-21 11:26:48.974 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:26:48.977 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 11:26:48.981 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:26:48.987 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:26:48.988 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-21 11:26:48.991 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 11:26:48.992 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-05-21 11:26:49.026 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 1084.0588ms
2024-05-21 11:26:49.029 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:26:49.030 +01:00 [DBG] Connection id "0HN3PG22JE28C" completed keep alive response.
2024-05-21 11:26:49.034 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:26:49.039 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:26:49.041 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 11:26:49.043 +01:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - 404 162 application/problem+json; charset=utf-8 1190.17ms
2024-05-21 11:27:18.081 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - null null
2024-05-21 11:27:18.093 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 11:27:18.095 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:27:18.097 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:27:18.098 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:27:18.099 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:27:18.104 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:27:18.107 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:27:18.108 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:27:18.110 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:27:18.112 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:27:18.113 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:27:18.115 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:27:18.116 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:27:18.121 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:27:18.122 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:27:18.123 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:18.124 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:18.125 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:27:18.127 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:18.129 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:27:18.130 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:27:18.131 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:18.132 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:18.133 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:27:18.134 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:18.146 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:27:18.151 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:27:18.152 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 11:27:18.153 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:18.154 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:18.155 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:27:18.156 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:27:18.157 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:27:18.158 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:27:18.160 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:27:18.164 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:18.165 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:27:18.166 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:18.168 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:27:18.171 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __CityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-05-21 11:27:18.203 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__CityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:27:18.214 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:18.216 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:18.217 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:27:18.218 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:27:18.219 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:27:18.220 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:27:18.222 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:27:18.237 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:27:18.251 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:18.252 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2024-05-21 11:27:18.254 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:18.255 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:27:18.261 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:27:18.264 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:27:18.265 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:27:18.266 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:27:18.266 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:27:18.268 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-05-21 11:27:18.270 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 155.6299ms
2024-05-21 11:27:18.271 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:27:18.272 +01:00 [DBG] Connection id "0HN3PG22JE28C" completed keep alive response.
2024-05-21 11:27:18.273 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:27:18.274 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:18.275 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:27:18.277 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - 200 116 application/json; charset=utf-8 196.8764ms
2024-05-21 11:27:28.053 +01:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - application/json 107
2024-05-21 11:27:28.057 +01:00 [DBG] PATCH requests are not supported
2024-05-21 11:27:28.058 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:27:28.059 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:27:28.061 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:27:28.062 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:27:28.064 +01:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:27:28.065 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:27:28.066 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:27:28.067 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:27:28.069 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:27:28.070 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:27:28.071 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:27:28.074 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:27:28.075 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:27:28.077 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:27:28.079 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:28.080 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:28.081 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:27:28.083 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:28.084 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:27:28.085 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:27:28.086 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:28.087 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:28.088 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:27:28.089 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:28.090 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:27:28.091 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2024-05-21 11:27:28.092 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 11:27:28.095 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 11:27:28.096 +01:00 [DBG] Connection id "0HN3PG22JE28C", Request id "0HN3PG22JE28C:00000003": started reading request body.
2024-05-21 11:27:28.097 +01:00 [DBG] Connection id "0HN3PG22JE28C", Request id "0HN3PG22JE28C:00000003": done reading request body.
2024-05-21 11:27:28.098 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:27:28.099 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:27:28.101 +01:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:27:28.102 +01:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:27:28.147 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:27:28.150 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:27:28.151 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 11:27:28.152 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:28.153 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:28.154 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:27:28.154 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:27:28.155 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:27:28.156 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:27:28.158 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:27:28.163 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:28.165 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 11:27:28.167 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:28.168 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:27:28.170 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:27:28.172 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:27:28.173 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-21 11:27:28.175 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 11:27:28.177 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-05-21 11:27:28.179 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 107.2879ms
2024-05-21 11:27:28.180 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:27:28.181 +01:00 [DBG] Connection id "0HN3PG22JE28C" completed keep alive response.
2024-05-21 11:27:28.182 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:27:28.182 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:28.183 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 11:27:28.184 +01:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - 404 162 application/problem+json; charset=utf-8 131.3254ms
2024-05-21 11:27:53.025 +01:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - application/json 91
2024-05-21 11:27:53.031 +01:00 [DBG] PATCH requests are not supported
2024-05-21 11:27:53.033 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:27:53.034 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:27:53.035 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:27:53.036 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:27:53.037 +01:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:27:53.039 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:27:53.040 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:27:53.041 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:27:53.043 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:27:53.044 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:27:53.046 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:27:53.047 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:27:53.048 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:27:53.049 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:27:53.050 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:53.051 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:53.053 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:27:53.054 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:53.055 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:27:53.056 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:27:53.058 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:53.059 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:53.060 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:27:53.061 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:53.063 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:27:53.064 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2024-05-21 11:27:53.065 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 11:27:53.066 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 11:27:53.067 +01:00 [DBG] Connection id "0HN3PG22JE28C", Request id "0HN3PG22JE28C:00000004": started reading request body.
2024-05-21 11:27:53.068 +01:00 [DBG] Connection id "0HN3PG22JE28C", Request id "0HN3PG22JE28C:00000004": done reading request body.
2024-05-21 11:27:53.070 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:27:53.071 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:27:53.072 +01:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:27:53.073 +01:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:27:53.075 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:27:53.081 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:27:53.082 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 11:27:53.082 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:53.083 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:53.084 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:27:53.085 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:27:53.086 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:27:53.087 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:27:53.089 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:27:53.091 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:53.092 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:27:53.093 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:53.094 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:27:53.096 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:27:53.099 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:27:53.100 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-21 11:27:53.102 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 11:27:53.103 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-05-21 11:27:53.104 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 58.4578ms
2024-05-21 11:27:53.105 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:27:53.106 +01:00 [DBG] Connection id "0HN3PG22JE28C" completed keep alive response.
2024-05-21 11:27:53.107 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:27:53.108 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:53.108 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 11:27:53.110 +01:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - 404 162 application/problem+json; charset=utf-8 84.6732ms
2024-05-21 11:27:57.278 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - null null
2024-05-21 11:27:57.281 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 11:27:57.282 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:27:57.283 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:27:57.284 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:27:57.285 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:27:57.286 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:27:57.288 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:27:57.289 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:27:57.291 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:27:57.292 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:27:57.293 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:27:57.295 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:27:57.296 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:27:57.297 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:27:57.298 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:27:57.299 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:57.300 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:57.301 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:27:57.302 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:27:57.303 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:27:57.305 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:27:57.306 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:57.307 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:57.308 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:27:57.309 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:27:57.310 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:27:57.312 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:27:57.313 +01:00 [DBG] Created DbConnection. (1ms).
2024-05-21 11:27:57.314 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:57.315 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:57.316 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:27:57.317 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:27:57.318 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:27:57.319 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:27:57.321 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:27:57.322 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:57.324 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:27:57.325 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:57.326 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:27:57.327 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:57.328 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:57.330 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:27:57.331 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:27:57.332 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:27:57.333 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:27:57.335 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:27:57.337 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:27:57.338 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:57.339 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 11:27:57.340 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:27:57.341 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:27:57.343 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:27:57.345 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:27:57.346 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:27:57.347 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:27:57.347 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:27:57.349 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-05-21 11:27:57.350 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 55.3022ms
2024-05-21 11:27:57.351 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:27:57.353 +01:00 [DBG] Connection id "0HN3PG22JE28C" completed keep alive response.
2024-05-21 11:27:57.353 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:27:57.354 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:27:57.356 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:27:57.357 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - 200 116 application/json; charset=utf-8 79.2283ms
2024-05-21 11:29:35.705 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:29:35.827 +01:00 [DBG] Hosting starting
2024-05-21 11:29:36.001 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 11:29:36.003 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 11:29:36.004 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 11:29:36.005 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 11:29:36.005 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 11:29:36.006 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:29:36.007 +01:00 [INF] Hosting environment: Development
2024-05-21 11:29:36.008 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 11:29:36.009 +01:00 [DBG] Hosting started
2024-05-21 11:29:37.887 +01:00 [DBG] Connection id "0HN3PG3L9V50L" received FIN.
2024-05-21 11:29:37.893 +01:00 [DBG] Connection id "0HN3PG3L9V50L" accepted.
2024-05-21 11:29:37.896 +01:00 [DBG] Connection id "0HN3PG3L9V50L" started.
2024-05-21 11:29:37.897 +01:00 [DBG] Connection id "0HN3PG3L9V50M" accepted.
2024-05-21 11:29:37.899 +01:00 [DBG] Connection id "0HN3PG3L9V50M" started.
2024-05-21 11:29:37.911 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 11:29:37.950 +01:00 [DBG] Connection id "0HN3PG3L9V50L" stopped.
2024-05-21 11:29:37.952 +01:00 [DBG] Connection 0HN3PG3L9V50M established using the following protocol: "Tls13"
2024-05-21 11:29:37.955 +01:00 [DBG] Connection id "0HN3PG3L9V50L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:29:37.983 +01:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - application/json 91
2024-05-21 11:29:38.000 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:29:38.012 +01:00 [DBG] PATCH requests are not supported
2024-05-21 11:29:38.032 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:29:38.035 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:29:38.038 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:29:38.042 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:29:38.060 +01:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:29:38.063 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:29:38.065 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:29:38.066 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:29:38.068 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:29:38.070 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:29:38.073 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:29:38.176 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:29:38.192 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:29:38.203 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:29:38.206 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:29:38.208 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:29:38.209 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:29:38.210 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:29:38.212 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:29:38.214 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:29:38.215 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:29:38.217 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:29:38.218 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:29:38.220 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:29:38.222 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:29:38.223 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:29:38.225 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2024-05-21 11:29:38.227 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 11:29:38.228 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 11:29:38.239 +01:00 [DBG] Connection id "0HN3PG3L9V50M", Request id "0HN3PG3L9V50M:00000001": started reading request body.
2024-05-21 11:29:38.241 +01:00 [DBG] Connection id "0HN3PG3L9V50M", Request id "0HN3PG3L9V50M:00000001": done reading request body.
2024-05-21 11:29:38.329 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:29:38.331 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:29:38.332 +01:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:29:38.335 +01:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:29:38.866 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:29:38.893 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 11:29:39.022 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:29:39.053 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:29:39.062 +01:00 [DBG] Created DbConnection. (8ms).
2024-05-21 11:29:39.066 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:29:39.076 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:39.080 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:29:39.085 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-21 11:29:39.090 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-05-21 11:29:39.097 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:29:39.115 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:29:39.126 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:39.131 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 8ms reading results.
2024-05-21 11:29:39.134 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:39.138 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 11:29:39.143 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __CityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-05-21 11:29:39.173 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__CityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:29:39.180 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:29:39.182 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:39.184 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:29:39.184 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:29:39.185 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:29:39.187 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:29:39.189 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:29:39.203 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:29:39.217 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:39.221 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2024-05-21 11:29:39.222 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:39.224 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:29:39.238 +01:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-05-21 11:29:39.243 +01:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-05-21 11:29:39.256 +01:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:29:39.263 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:29:39.267 +01:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-05-21 11:29:39.302 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:29:39.305 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:39.307 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:29:39.308 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:29:39.309 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:29:39.310 +01:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-05-21 11:29:39.313 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-05-21 11:29:39.323 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:39.325 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 9ms reading results.
2024-05-21 11:29:39.326 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:39.327 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:29:39.331 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:29:39.333 +01:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-05-21 11:29:39.336 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-05-21 11:29:39.341 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 1267.0509ms
2024-05-21 11:29:39.342 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:29:39.345 +01:00 [DBG] Connection id "0HN3PG3L9V50M" completed keep alive response.
2024-05-21 11:29:39.347 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:29:39.351 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:29:39.354 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 11:29:39.358 +01:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - 204 null null 1377.938ms
2024-05-21 11:29:59.657 +01:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - application/json 107
2024-05-21 11:29:59.661 +01:00 [DBG] PATCH requests are not supported
2024-05-21 11:29:59.662 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:29:59.663 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:29:59.664 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:29:59.665 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:29:59.666 +01:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:29:59.668 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:29:59.669 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:29:59.671 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:29:59.673 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:29:59.675 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:29:59.676 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:29:59.678 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:29:59.683 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:29:59.684 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:29:59.686 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:29:59.687 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:29:59.688 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:29:59.689 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:29:59.690 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:29:59.691 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:29:59.693 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:29:59.694 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:29:59.695 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:29:59.696 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:29:59.697 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:29:59.699 +01:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2024-05-21 11:29:59.700 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-05-21 11:29:59.701 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-05-21 11:29:59.702 +01:00 [DBG] Connection id "0HN3PG3L9V50M", Request id "0HN3PG3L9V50M:00000002": started reading request body.
2024-05-21 11:29:59.704 +01:00 [DBG] Connection id "0HN3PG3L9V50M", Request id "0HN3PG3L9V50M:00000002": done reading request body.
2024-05-21 11:29:59.706 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:29:59.707 +01:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:29:59.708 +01:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-05-21 11:29:59.709 +01:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-05-21 11:29:59.720 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:29:59.725 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:29:59.726 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 11:29:59.727 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:29:59.728 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:59.729 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:29:59.730 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:29:59.731 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:29:59.732 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:29:59.734 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:29:59.737 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:59.738 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:29:59.739 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:59.740 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:29:59.742 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:29:59.743 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:59.744 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:29:59.745 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:29:59.746 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:29:59.747 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:29:59.749 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:29:59.751 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:29:59.753 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:59.754 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-05-21 11:29:59.755 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:59.757 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:29:59.758 +01:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-05-21 11:29:59.760 +01:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-05-21 11:29:59.760 +01:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:29:59.762 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:29:59.763 +01:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-05-21 11:29:59.764 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:29:59.765 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:59.766 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:29:59.767 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:29:59.768 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:29:59.770 +01:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 28)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-05-21 11:29:59.772 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 28)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointsOfInterest" SET "Name" = @p0
WHERE "Id" = @p1
RETURNING 1;
2024-05-21 11:29:59.778 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:59.780 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 6ms reading results.
2024-05-21 11:29:59.781 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:29:59.782 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:29:59.783 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:29:59.785 +01:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-05-21 11:29:59.786 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-05-21 11:29:59.787 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 111.5106ms
2024-05-21 11:29:59.789 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-05-21 11:29:59.790 +01:00 [DBG] Connection id "0HN3PG3L9V50M" completed keep alive response.
2024-05-21 11:29:59.792 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:29:59.793 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:29:59.794 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:29:59.796 +01:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7165/api/cities/1/pointsofinterest/1 - 204 null null 138.8782ms
2024-05-21 11:30:03.065 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - null null
2024-05-21 11:30:03.075 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 11:30:03.076 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:30:03.078 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:30:03.079 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:30:03.081 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:30:03.088 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:30:03.092 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:30:03.093 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:30:03.095 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:30:03.096 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:30:03.097 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:30:03.099 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:30:03.102 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:30:03.104 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:30:03.106 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:30:03.107 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:30:03.108 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:30:03.109 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:30:03.110 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:30:03.110 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:30:03.111 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:30:03.113 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:30:03.114 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:30:03.115 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:30:03.116 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:30:03.160 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:30:03.164 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:30:03.164 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 11:30:03.165 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:30:03.167 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:30:03.169 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:30:03.171 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:30:03.173 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:30:03.174 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:30:03.176 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:30:03.178 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:30:03.179 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:30:03.181 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:30:03.182 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:30:03.183 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:30:03.184 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:30:03.185 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:30:03.186 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:30:03.187 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-21 11:30:03.188 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:30:03.190 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:30:03.192 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:30:03.193 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:30:03.194 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 11:30:03.196 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:30:03.197 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:30:03.201 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:30:03.206 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:30:03.206 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:30:03.207 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:30:03.208 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:30:03.210 +01:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-05-21 11:30:03.231 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 132.3047ms
2024-05-21 11:30:03.233 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:30:03.234 +01:00 [DBG] Connection id "0HN3PG3L9V50M" completed keep alive response.
2024-05-21 11:30:03.236 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:30:03.237 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:30:03.238 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:30:03.240 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - 200 122 application/json; charset=utf-8 175.1617ms
2024-05-21 11:30:37.322 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:30:37.462 +01:00 [DBG] Hosting starting
2024-05-21 11:30:37.646 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 11:30:37.647 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 11:30:37.648 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 11:30:37.649 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 11:30:37.649 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 11:30:37.651 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:30:37.651 +01:00 [INF] Hosting environment: Development
2024-05-21 11:30:37.652 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 11:30:37.653 +01:00 [DBG] Hosting started
2024-05-21 11:37:59.951 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:38:00.067 +01:00 [DBG] Hosting starting
2024-05-21 11:38:00.249 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 11:38:00.251 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 11:38:00.251 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 11:38:00.253 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 11:38:00.254 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 11:38:00.255 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:38:00.256 +01:00 [INF] Hosting environment: Development
2024-05-21 11:38:00.256 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 11:38:00.257 +01:00 [DBG] Hosting started
2024-05-21 11:38:12.221 +01:00 [DBG] Connection id "0HN3PG8EJ1DJC" received FIN.
2024-05-21 11:38:12.227 +01:00 [DBG] Connection id "0HN3PG8EJ1DJC" accepted.
2024-05-21 11:38:12.229 +01:00 [DBG] Connection id "0HN3PG8EJ1DJC" started.
2024-05-21 11:38:12.230 +01:00 [DBG] Connection id "0HN3PG8EJ1DJD" accepted.
2024-05-21 11:38:12.232 +01:00 [DBG] Connection id "0HN3PG8EJ1DJD" started.
2024-05-21 11:38:12.245 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 11:38:12.284 +01:00 [DBG] Connection id "0HN3PG8EJ1DJC" stopped.
2024-05-21 11:38:12.286 +01:00 [DBG] Connection 0HN3PG8EJ1DJD established using the following protocol: "Tls13"
2024-05-21 11:38:12.287 +01:00 [DBG] Connection id "0HN3PG8EJ1DJC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:38:12.317 +01:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7165/api/cities/1/pointsofinterest/1 - null null
2024-05-21 11:38:12.330 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:38:12.341 +01:00 [DBG] DELETE requests are not supported
2024-05-21 11:38:12.359 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:38:12.363 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:38:12.365 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-05-21 11:38:12.367 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-05-21 11:38:12.386 +01:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:38:12.391 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:38:12.392 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:38:12.394 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:38:12.396 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:38:12.397 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:38:12.399 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:38:12.498 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:38:12.513 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:38:12.525 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:38:12.528 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:38:12.530 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:12.531 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:12.532 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:38:12.534 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:12.535 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:38:12.536 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:38:12.538 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:38:12.540 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:38:12.541 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:38:12.542 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:38:13.053 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:38:13.078 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-05-21 11:38:13.215 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:38:13.246 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:38:13.254 +01:00 [DBG] Created DbConnection. (9ms).
2024-05-21 11:38:13.260 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:13.269 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:13.276 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:38:13.281 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:38:13.285 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-05-21 11:38:13.293 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:38:13.311 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:38:13.319 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:13.326 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 7ms reading results.
2024-05-21 11:38:13.332 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:13.338 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-05-21 11:38:13.343 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __CityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-05-21 11:38:13.376 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__CityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 11:38:13.383 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:13.385 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:13.386 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:38:13.387 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:38:13.389 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-21 11:38:13.390 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:38:13.392 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:38:13.406 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:38:13.420 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:13.423 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 29ms reading results.
2024-05-21 11:38:13.426 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:13.427 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:38:13.435 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:38:13.442 +01:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-05-21 11:38:13.445 +01:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-05-21 11:38:13.456 +01:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-05-21 11:38:13.501 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:13.503 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:13.506 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:38:13.508 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:38:13.509 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-21 11:38:13.510 +01:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2024-05-21 11:38:13.512 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointsOfInterest"
WHERE "Id" = @p0
RETURNING 1;
2024-05-21 11:38:13.521 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:13.523 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 9ms reading results.
2024-05-21 11:38:13.525 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:13.526 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:38:13.530 +01:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:38:13.533 +01:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-05-21 11:38:13.535 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-05-21 11:38:13.539 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 1138.2983ms
2024-05-21 11:38:13.542 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-05-21 11:38:13.546 +01:00 [DBG] Connection id "0HN3PG8EJ1DJD" completed keep alive response.
2024-05-21 11:38:13.550 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:38:13.555 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:13.559 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-05-21 11:38:13.562 +01:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7165/api/cities/1/pointsofinterest/1 - 204 null null 1247.9427ms
2024-05-21 11:38:25.262 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - null null
2024-05-21 11:38:25.269 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 11:38:25.271 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:38:25.273 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-05-21 11:38:25.274 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:38:25.275 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:38:25.280 +01:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:38:25.282 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:38:25.284 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:38:25.285 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:38:25.287 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:38:25.288 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:38:25.290 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:38:25.291 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:38:25.293 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:38:25.294 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:38:25.295 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:25.296 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:25.297 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:38:25.298 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:25.299 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:38:25.300 +01:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-05-21 11:38:25.301 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:38:25.302 +01:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:38:25.303 +01:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-05-21 11:38:25.305 +01:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-05-21 11:38:25.317 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:38:25.322 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:38:25.323 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 11:38:25.324 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:25.325 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:25.326 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:38:25.327 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:38:25.328 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:38:25.329 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:38:25.332 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:38:25.334 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:25.335 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:38:25.336 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:25.337 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:38:25.339 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:25.341 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:25.342 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:38:25.343 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:38:25.344 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:38:25.345 +01:00 [DBG] Executing DbCommand [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:38:25.346 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__CityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__CityId_0 AND "p"."Id" = @__pointOfInterestId_1
LIMIT 1
2024-05-21 11:38:25.348 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:25.349 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:38:25.351 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:25.352 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:38:25.355 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:38:25.359 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:38:25.360 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-21 11:38:25.363 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 11:38:25.364 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-05-21 11:38:25.458 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 168.5571ms
2024-05-21 11:38:25.460 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-05-21 11:38:25.461 +01:00 [DBG] Connection id "0HN3PG8EJ1DJD" completed keep alive response.
2024-05-21 11:38:25.462 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:38:25.463 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:25.464 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 11:38:25.465 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest/1 - 404 162 application/problem+json; charset=utf-8 203.6201ms
2024-05-21 11:38:35.104 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest - null null
2024-05-21 11:38:35.111 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 11:38:35.112 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-05-21 11:38:35.113 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-05-21 11:38:35.115 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 11:38:35.116 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 11:38:35.119 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:38:35.122 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:38:35.124 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:38:35.125 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:38:35.127 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:38:35.129 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:38:35.131 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:38:35.134 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:38:35.136 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:38:35.137 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:38:35.139 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:35.140 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:35.141 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:38:35.143 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:35.192 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:38:35.196 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:38:35.197 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 11:38:35.198 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:35.199 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:35.200 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:38:35.201 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:38:35.202 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:38:35.203 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:38:35.206 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:38:35.208 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:35.209 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:38:35.210 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:35.211 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:38:35.215 +01:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-05-21 11:38:35.220 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 11:38:35.224 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:35.225 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:35.226 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:38:35.227 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:38:35.228 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:38:35.229 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-05-21 11:38:35.231 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-05-21 11:38:35.233 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:38:35.234 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:35.235 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 11:38:35.236 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:35.238 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 11:38:35.248 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:38:35.251 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:38:35.251 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:38:35.252 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:38:35.253 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:38:35.255 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:38:35.262 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 131.7406ms
2024-05-21 11:38:35.264 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 11:38:35.265 +01:00 [DBG] Connection id "0HN3PG8EJ1DJD" completed keep alive response.
2024-05-21 11:38:35.266 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:38:35.267 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:35.268 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 11:38:35.269 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest - 200 110 application/json; charset=utf-8 164.6576ms
2024-05-21 11:38:49.949 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest - null null
2024-05-21 11:38:49.952 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 11:38:49.953 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-05-21 11:38:49.953 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-05-21 11:38:49.955 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 11:38:49.956 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 11:38:49.957 +01:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-05-21 11:38:49.958 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:38:49.959 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:38:49.961 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:38:49.964 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:38:49.965 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:38:49.966 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:38:49.967 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-05-21 11:38:49.968 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:38:49.969 +01:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-05-21 11:38:49.970 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:49.971 +01:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:49.972 +01:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-05-21 11:38:49.973 +01:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-05-21 11:38:49.975 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 11:38:49.977 +01:00 [DBG] Creating DbConnection.
2024-05-21 11:38:49.977 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 11:38:49.978 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:49.980 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:49.981 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:38:49.982 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 11:38:49.983 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:38:49.984 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:38:49.986 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-05-21 11:38:49.987 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:49.988 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 11:38:49.990 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:49.991 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:38:49.992 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:49.993 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:49.994 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:38:49.996 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:38:49.997 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-21 11:38:49.998 +01:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-05-21 11:38:50.000 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointsOfInterest" AS "p"
WHERE "p"."CityId" = @__cityId_0
2024-05-21 11:38:50.002 +01:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:38:50.003 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:50.004 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 11:38:50.005 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 11:38:50.006 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 11:38:50.008 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 11:38:50.010 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:38:50.011 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:38:50.013 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:38:50.014 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:38:50.015 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:38:50.016 +01:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 50.1385ms
2024-05-21 11:38:50.017 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-05-21 11:38:50.019 +01:00 [DBG] Connection id "0HN3PG8EJ1DJD" completed keep alive response.
2024-05-21 11:38:50.020 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 11:38:50.021 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 11:38:50.022 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 11:38:50.023 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities/1/pointsofinterest - 200 110 application/json; charset=utf-8 74.0564ms
2024-05-21 15:27:56.597 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 15:27:56.752 +01:00 [DBG] Hosting starting
2024-05-21 15:27:57.004 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 15:27:57.006 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 15:27:57.007 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 15:27:57.008 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 15:27:57.008 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 15:27:57.009 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 15:27:57.010 +01:00 [INF] Hosting environment: Development
2024-05-21 15:27:57.011 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 15:27:57.012 +01:00 [DBG] Hosting started
2024-05-21 15:28:13.505 +01:00 [DBG] Connection id "0HN3PK8VMB5I2" received FIN.
2024-05-21 15:28:13.511 +01:00 [DBG] Connection id "0HN3PK8VMB5I2" accepted.
2024-05-21 15:28:13.515 +01:00 [DBG] Connection id "0HN3PK8VMB5I2" started.
2024-05-21 15:28:13.517 +01:00 [DBG] Connection id "0HN3PK8VMB5I3" accepted.
2024-05-21 15:28:13.519 +01:00 [DBG] Connection id "0HN3PK8VMB5I3" started.
2024-05-21 15:28:13.536 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 15:28:13.594 +01:00 [DBG] Connection 0HN3PK8VMB5I3 established using the following protocol: "Tls13"
2024-05-21 15:28:13.625 +01:00 [DBG] Connection id "0HN3PK8VMB5I2" stopped.
2024-05-21 15:28:13.629 +01:00 [DBG] Connection id "0HN3PK8VMB5I2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 15:28:13.659 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp - null null
2024-05-21 15:28:13.683 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 15:28:13.698 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:28:13.717 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:28:13.721 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:28:13.724 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:13.726 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:13.746 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:28:13.752 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:28:13.753 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:28:13.755 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:28:13.756 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:28:13.757 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:28:13.760 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:28:13.906 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 15:28:13.922 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:28:13.941 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:28:13.945 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:28:13.949 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:28:13.951 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:28:13.952 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:28:13.955 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:28:14.520 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:28:14.547 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2024-05-21 15:28:14.723 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 15:28:14.753 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:28:14.763 +01:00 [DBG] Created DbConnection. (7ms).
2024-05-21 15:28:14.768 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:28:14.784 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:14.789 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:28:14.794 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 15:28:14.801 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-05-21 15:28:14.809 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:28:14.832 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__name_0='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:28:14.854 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:28:14.877 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:14.885 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 46ms reading results.
2024-05-21 15:28:14.889 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:14.893 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 15:28:14.906 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:28:14.911 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:28:14.912 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:28:14.914 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:28:14.915 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:28:14.917 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:28:15.019 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1257.9185ms
2024-05-21 15:28:15.022 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:15.022 +01:00 [DBG] Connection id "0HN3PK8VMB5I3" completed keep alive response.
2024-05-21 15:28:15.025 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:28:15.029 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:28:15.034 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (5ms).
2024-05-21 15:28:15.037 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp - 200 68 application/json; charset=utf-8 1381.1484ms
2024-05-21 15:28:33.474 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=New%20York%20City - null null
2024-05-21 15:28:33.482 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:28:33.485 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:28:33.492 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:28:33.500 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:33.502 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:33.505 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:28:33.508 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:28:33.512 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:28:33.514 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:28:33.517 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:28:33.520 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:28:33.523 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:28:33.525 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:28:33.527 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:28:33.529 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:28:33.530 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:28:33.531 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:28:33.532 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:28:33.535 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:28:33.546 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:28:33.553 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:28:33.555 +01:00 [DBG] Created DbConnection. (1ms).
2024-05-21 15:28:33.556 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:28:33.557 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:33.558 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:28:33.559 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 15:28:33.560 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 15:28:33.561 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:28:33.562 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:28:33.565 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:28:33.568 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:33.570 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 5ms reading results.
2024-05-21 15:28:33.571 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:33.573 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:28:33.575 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:28:33.577 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:28:33.577 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:28:33.578 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:28:33.579 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:28:33.580 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:28:33.582 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 58.9505ms
2024-05-21 15:28:33.585 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:33.587 +01:00 [DBG] Connection id "0HN3PK8VMB5I3" completed keep alive response.
2024-05-21 15:28:33.588 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:28:33.589 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:28:33.590 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:28:33.592 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=New%20York%20City - 200 76 application/json; charset=utf-8 117.5129ms
2024-05-21 15:28:38.723 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=NewYorkCity - null null
2024-05-21 15:28:38.729 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:28:38.731 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:28:38.734 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:28:38.737 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:38.739 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:38.741 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:28:38.744 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:28:38.747 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:28:38.750 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:28:38.755 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:28:38.759 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:28:38.762 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:28:38.771 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:28:38.779 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:28:38.782 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:28:38.786 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:28:38.788 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:28:38.791 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:28:38.797 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:28:38.866 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:28:38.873 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:28:38.874 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 15:28:38.875 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:28:38.876 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:38.877 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:28:38.878 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 15:28:38.879 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-21 15:28:38.880 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:28:38.881 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:28:38.885 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:38.887 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 15:28:38.888 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:38.889 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:28:38.890 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:28:38.892 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:28:38.893 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:28:38.894 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:28:38.895 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:28:38.896 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:28:38.897 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 135.1603ms
2024-05-21 15:28:38.898 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:38.899 +01:00 [DBG] Connection id "0HN3PK8VMB5I3" completed keep alive response.
2024-05-21 15:28:38.903 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:28:38.905 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:28:38.907 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:28:38.908 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=NewYorkCity - 200 2 application/json; charset=utf-8 185.6736ms
2024-05-21 15:28:42.989 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=New%20York%20City - null null
2024-05-21 15:28:42.993 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:28:42.994 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:28:42.994 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:28:42.996 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:42.997 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:42.997 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:28:43.001 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:28:43.003 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:28:43.004 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:28:43.006 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:28:43.007 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:28:43.008 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:28:43.010 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:28:43.011 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:28:43.011 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:28:43.013 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:28:43.014 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:28:43.015 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:28:43.016 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:28:43.019 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:28:43.021 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:28:43.022 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 15:28:43.022 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:28:43.024 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:43.025 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:28:43.025 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 15:28:43.027 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 15:28:43.028 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:28:43.029 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:28:43.031 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:28:43.034 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:43.037 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 5ms reading results.
2024-05-21 15:28:43.039 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:28:43.040 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:28:43.041 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:28:43.043 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:28:43.044 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:28:43.045 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:28:43.045 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:28:43.046 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:28:43.048 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 39.2294ms
2024-05-21 15:28:43.051 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:28:43.054 +01:00 [DBG] Connection id "0HN3PK8VMB5I3" completed keep alive response.
2024-05-21 15:28:43.055 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:28:43.056 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:28:43.057 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:28:43.059 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=New%20York%20City - 200 76 application/json; charset=utf-8 69.7106ms
2024-05-21 15:30:18.759 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 15:30:18.932 +01:00 [DBG] Hosting starting
2024-05-21 15:30:19.131 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 15:30:19.133 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 15:30:19.134 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 15:30:19.134 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 15:30:19.135 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 15:30:19.136 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 15:30:19.137 +01:00 [INF] Hosting environment: Development
2024-05-21 15:30:19.137 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 15:30:19.138 +01:00 [DBG] Hosting started
2024-05-21 15:30:27.105 +01:00 [DBG] Connection id "0HN3PKA7GEKU2" received FIN.
2024-05-21 15:30:27.113 +01:00 [DBG] Connection id "0HN3PKA7GEKU2" accepted.
2024-05-21 15:30:27.115 +01:00 [DBG] Connection id "0HN3PKA7GEKU2" started.
2024-05-21 15:30:27.117 +01:00 [DBG] Connection id "0HN3PKA7GEKU3" accepted.
2024-05-21 15:30:27.118 +01:00 [DBG] Connection id "0HN3PKA7GEKU3" started.
2024-05-21 15:30:27.134 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 15:30:27.183 +01:00 [DBG] Connection id "0HN3PKA7GEKU2" stopped.
2024-05-21 15:30:27.183 +01:00 [DBG] Connection 0HN3PKA7GEKU3 established using the following protocol: "Tls13"
2024-05-21 15:30:27.189 +01:00 [DBG] Connection id "0HN3PKA7GEKU2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 15:30:27.222 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=New%20York%20City - null null
2024-05-21 15:30:27.239 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 15:30:27.255 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:30:27.283 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:30:27.287 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:30:27.289 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:30:27.294 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:30:27.314 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:30:27.318 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:30:27.319 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:30:27.321 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:30:27.323 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:30:27.326 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:30:27.329 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:30:27.444 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 15:30:27.460 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:30:27.480 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:30:27.486 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:30:27.492 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:30:27.495 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:30:27.496 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:30:27.499 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:30:28.046 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:30:28.073 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2024-05-21 15:30:28.245 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 15:30:28.275 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:30:28.285 +01:00 [DBG] Created DbConnection. (9ms).
2024-05-21 15:30:28.289 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:30:28.301 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:30:28.306 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:30:28.316 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-05-21 15:30:28.326 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-05-21 15:30:28.335 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:30:28.355 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__name_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:30:28.377 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:30:28.393 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:30:28.400 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 35ms reading results.
2024-05-21 15:30:28.404 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:30:28.409 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 15:30:28.422 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:30:28.430 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:30:28.431 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:30:28.431 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:30:28.433 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:30:28.434 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:30:28.537 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1204.8568ms
2024-05-21 15:30:28.541 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:30:28.545 +01:00 [DBG] Connection id "0HN3PKA7GEKU3" completed keep alive response.
2024-05-21 15:30:28.549 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:30:28.554 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:30:28.558 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-05-21 15:30:28.564 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=New%20York%20City - 200 76 application/json; charset=utf-8 1345.7173ms
2024-05-21 15:49:45.575 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 15:49:45.779 +01:00 [DBG] Hosting starting
2024-05-21 15:49:46.038 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 15:49:46.041 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 15:49:46.044 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 15:49:46.046 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 15:49:46.048 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 15:49:46.051 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 15:49:46.053 +01:00 [INF] Hosting environment: Development
2024-05-21 15:49:46.054 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 15:49:46.055 +01:00 [DBG] Hosting started
2024-05-21 15:53:04.272 +01:00 [DBG] Connection id "0HN3PKMRVD44H" received FIN.
2024-05-21 15:53:04.281 +01:00 [DBG] Connection id "0HN3PKMRVD44H" accepted.
2024-05-21 15:53:04.283 +01:00 [DBG] Connection id "0HN3PKMRVD44H" started.
2024-05-21 15:53:04.290 +01:00 [DBG] Connection id "0HN3PKMRVD44I" accepted.
2024-05-21 15:53:04.294 +01:00 [DBG] Connection id "0HN3PKMRVD44I" started.
2024-05-21 15:53:04.307 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 15:53:04.363 +01:00 [DBG] Connection id "0HN3PKMRVD44H" stopped.
2024-05-21 15:53:04.365 +01:00 [DBG] Connection 0HN3PKMRVD44I established using the following protocol: "Tls13"
2024-05-21 15:53:04.366 +01:00 [DBG] Connection id "0HN3PKMRVD44H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 15:53:04.404 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=New%20York%20City - null null
2024-05-21 15:53:04.420 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 15:53:04.437 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:53:04.458 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:53:04.462 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:53:04.464 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:04.467 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:04.485 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:53:04.491 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:53:04.493 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:53:04.495 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:53:04.496 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:53:04.498 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:53:04.500 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:53:04.620 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 15:53:04.637 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:53:04.657 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:53:04.661 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:53:04.663 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:53:04.664 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:53:04.665 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:53:04.668 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:53:04.671 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:53:04.674 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 15:53:04.678 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:04.679 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:04.680 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:04.681 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:53:04.683 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:05.212 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:53:05.238 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2024-05-21 15:53:05.417 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 15:53:05.447 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:53:05.460 +01:00 [DBG] Created DbConnection. (8ms).
2024-05-21 15:53:05.467 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:53:05.483 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:05.491 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:53:05.497 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-21 15:53:05.502 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-05-21 15:53:05.510 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:53:05.531 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__name_0='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-05-21 15:53:05.550 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:53:05.567 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:05.574 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 35ms reading results.
2024-05-21 15:53:05.579 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:05.582 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 15:53:05.596 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:53:05.604 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:53:05.605 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:53:05.607 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:53:05.610 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:53:05.611 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:53:05.718 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1216.7499ms
2024-05-21 15:53:05.720 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:05.722 +01:00 [DBG] Connection id "0HN3PKMRVD44I" completed keep alive response.
2024-05-21 15:53:05.727 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:53:05.732 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:53:05.734 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 15:53:05.737 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=New%20York%20City - 200 76 application/json; charset=utf-8 1338.1961ms
2024-05-21 15:53:30.727 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?searchQuery=the - null null
2024-05-21 15:53:30.731 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:53:30.735 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:53:30.736 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:53:30.738 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:30.739 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:30.740 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:53:30.741 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:53:30.742 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:53:30.744 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:53:30.745 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:53:30.746 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:53:30.748 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:53:30.750 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:53:30.758 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:53:30.759 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 15:53:30.760 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 15:53:30.761 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:53:30.762 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:53:30.763 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:53:30.764 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:53:30.766 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:53:30.769 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-05-21 15:53:30.772 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:30.773 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:30.774 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:53:30.775 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:30.787 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:53:30.792 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(a => a.Name == __searchQuery_0 || a.Description != null && a.Description.Contains(__searchQuery_0))
    .OrderBy(c => c.Name)'
2024-05-21 15:53:30.814 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE (c.Name == @__searchQuery_0) || ((c.Description != NULL) && (c.Description IS NOT NULL && (@__searchQuery_0 IS NOT NULL && (instr(c.Description, @__searchQuery_0) > 0))))
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 15:53:30.824 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:53:30.826 +01:00 [DBG] Created DbConnection. (1ms).
2024-05-21 15:53:30.827 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:53:30.828 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:30.829 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:53:30.830 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 15:53:30.831 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 15:53:30.832 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__searchQuery_0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Name"
2024-05-21 15:53:30.836 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__searchQuery_0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Name"
2024-05-21 15:53:30.838 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:53:30.839 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:53:30.840 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:30.842 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-05-21 15:53:30.843 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:30.844 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:53:30.846 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:53:30.848 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:53:30.849 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:53:30.851 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:53:30.854 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:53:30.857 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:53:30.862 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 114.5972ms
2024-05-21 15:53:30.865 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:30.867 +01:00 [DBG] Connection id "0HN3PKMRVD44I" completed keep alive response.
2024-05-21 15:53:30.870 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:53:30.872 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:53:30.874 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:53:30.875 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?searchQuery=the - 200 143 application/json; charset=utf-8 148.2809ms
2024-05-21 15:53:43.724 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?searchQuery=the - null null
2024-05-21 15:53:43.728 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:53:43.730 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:53:43.732 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:53:43.735 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:43.737 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:43.739 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:53:43.740 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:53:43.742 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:53:43.743 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:53:43.745 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:53:43.747 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:53:43.748 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:53:43.752 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:53:43.754 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:53:43.755 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 15:53:43.756 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 15:53:43.758 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:53:43.758 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:53:43.759 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:53:43.760 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:53:43.762 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:53:43.763 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-05-21 15:53:43.764 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:43.766 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:43.769 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:53:43.771 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:43.817 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:53:43.823 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:53:43.824 +01:00 [DBG] Created DbConnection. (1ms).
2024-05-21 15:53:43.825 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:53:43.826 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:43.827 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:53:43.828 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 15:53:43.829 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 15:53:43.830 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__searchQuery_0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Name"
2024-05-21 15:53:43.832 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__searchQuery_0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Name"
2024-05-21 15:53:43.835 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:53:43.836 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:53:43.837 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:43.838 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 3ms reading results.
2024-05-21 15:53:43.840 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:43.841 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:53:43.842 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:53:43.844 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:53:43.845 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:53:43.845 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:53:43.846 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:53:43.847 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:53:43.849 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 101.228ms
2024-05-21 15:53:43.852 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:43.854 +01:00 [DBG] Connection id "0HN3PKMRVD44I" completed keep alive response.
2024-05-21 15:53:43.854 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:53:43.855 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:53:43.856 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 15:53:43.859 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?searchQuery=the - 200 143 application/json; charset=utf-8 134.9119ms
2024-05-21 15:53:48.654 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?searchQuery=The - null null
2024-05-21 15:53:48.657 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:53:48.659 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:53:48.660 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:53:48.662 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:48.663 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:48.664 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:53:48.669 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:53:48.671 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:53:48.672 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:53:48.674 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:53:48.676 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:53:48.677 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:53:48.678 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:53:48.680 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:53:48.681 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 15:53:48.684 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 15:53:48.685 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:53:48.686 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:53:48.687 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:53:48.689 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:53:48.690 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:53:48.691 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-05-21 15:53:48.694 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:48.696 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:48.697 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:53:48.698 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:53:48.700 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:53:48.706 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:53:48.709 +01:00 [DBG] Created DbConnection. (2ms).
2024-05-21 15:53:48.712 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:53:48.716 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:48.719 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:53:48.721 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-21 15:53:48.722 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-21 15:53:48.723 +01:00 [DBG] Executing DbCommand [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__searchQuery_0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Name"
2024-05-21 15:53:48.725 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__searchQuery_0='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__searchQuery_0 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_0) > 0)
ORDER BY "c"."Name"
2024-05-21 15:53:48.727 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:53:48.728 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:48.730 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 15:53:48.732 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:53:48.734 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:53:48.735 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:53:48.737 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:53:48.738 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:53:48.739 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:53:48.739 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:53:48.741 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:53:48.742 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 64.8131ms
2024-05-21 15:53:48.744 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:53:48.746 +01:00 [DBG] Connection id "0HN3PKMRVD44I" completed keep alive response.
2024-05-21 15:53:48.748 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:53:48.750 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:53:48.752 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 15:53:48.754 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?searchQuery=The - 200 76 application/json; charset=utf-8 99.7129ms
2024-05-21 15:54:08.093 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=the - null null
2024-05-21 15:54:08.096 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:54:08.097 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:54:08.099 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:54:08.100 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:08.101 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:08.103 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:54:08.106 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:54:08.107 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:54:08.108 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:54:08.110 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:54:08.111 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:54:08.112 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:08.114 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:08.114 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:54:08.115 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:54:08.117 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:08.118 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:08.120 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:54:08.123 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:54:08.124 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:08.125 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-05-21 15:54:08.127 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:08.129 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:08.130 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:08.131 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:08.132 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:54:08.134 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Where(a => a.Name == __searchQuery_1 || a.Description != null && a.Description.Contains(__searchQuery_1))
    .OrderBy(c => c.Name)'
2024-05-21 15:54:08.139 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE (c.Name == @__name_0) && ((c.Name == @__searchQuery_1) || ((c.Description != NULL) && (c.Description IS NOT NULL && (@__searchQuery_1 IS NOT NULL && (instr(c.Description, @__searchQuery_1) > 0)))))
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 15:54:08.142 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:54:08.143 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 15:54:08.144 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:08.145 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:08.146 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:54:08.147 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 15:54:08.148 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 15:54:08.149 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:08.151 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:08.153 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:54:08.155 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:08.157 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 4ms reading results.
2024-05-21 15:54:08.158 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:08.159 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:54:08.161 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:54:08.163 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:54:08.163 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:54:08.164 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:54:08.165 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:54:08.166 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:54:08.168 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 55.3692ms
2024-05-21 15:54:08.169 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:08.170 +01:00 [DBG] Connection id "0HN3PKMRVD44I" completed keep alive response.
2024-05-21 15:54:08.172 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:54:08.173 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:08.174 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (0ms).
2024-05-21 15:54:08.175 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=the - 200 68 application/json; charset=utf-8 82.1458ms
2024-05-21 15:54:19.542 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=%27the%27 - null null
2024-05-21 15:54:19.545 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:54:19.545 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:54:19.546 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:54:19.548 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:19.549 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:19.549 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:54:19.551 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:54:19.553 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:54:19.555 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:54:19.557 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:54:19.558 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:54:19.559 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:19.560 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:19.561 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:54:19.562 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:54:19.563 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:19.564 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:19.565 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:54:19.566 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:54:19.567 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:19.568 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-05-21 15:54:19.571 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:19.572 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:19.574 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:19.575 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:19.576 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:54:19.578 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:54:19.578 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 15:54:19.579 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:19.580 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:19.581 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:54:19.582 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 15:54:19.583 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 15:54:19.584 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:19.588 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:19.590 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:19.591 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 15:54:19.592 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:19.594 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:54:19.595 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:54:19.597 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:54:19.598 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:54:19.599 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:54:19.599 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:54:19.600 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:54:19.603 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 44.3706ms
2024-05-21 15:54:19.606 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:19.608 +01:00 [DBG] Connection id "0HN3PKMRVD44I" completed keep alive response.
2024-05-21 15:54:19.609 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:54:19.609 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:19.610 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:54:19.612 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=%27the%27 - 200 2 application/json; charset=utf-8 70.0591ms
2024-05-21 15:54:27.384 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=%27cathedral%27 - null null
2024-05-21 15:54:27.391 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:54:27.393 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:54:27.395 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:54:27.398 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:27.408 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:27.411 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:54:27.417 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:54:27.421 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:54:27.424 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:54:27.426 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:54:27.428 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:54:27.429 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:27.430 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:27.433 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:54:27.434 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:54:27.436 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:27.438 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:27.440 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:54:27.442 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:54:27.443 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:27.444 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-05-21 15:54:27.446 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:27.447 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:27.448 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:27.450 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:27.451 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:54:27.455 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:54:27.456 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 15:54:27.457 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:27.458 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:27.459 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:54:27.460 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 15:54:27.461 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 15:54:27.462 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:27.464 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 11)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:27.466 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:27.467 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 1ms reading results.
2024-05-21 15:54:27.468 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:27.470 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:54:27.472 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:54:27.475 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:54:27.475 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:54:27.476 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:54:27.477 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:54:27.478 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:54:27.479 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 50.4643ms
2024-05-21 15:54:27.480 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:27.481 +01:00 [DBG] Connection id "0HN3PKMRVD44I" completed keep alive response.
2024-05-21 15:54:27.482 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:54:27.483 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:27.484 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:54:27.488 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=%27cathedral%27 - 200 2 application/json; charset=utf-8 104.0149ms
2024-05-21 15:54:30.882 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=cathedral - null null
2024-05-21 15:54:30.886 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:54:30.888 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:54:30.889 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:54:30.891 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:30.892 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:30.893 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:54:30.894 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:54:30.897 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:54:30.899 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:54:30.900 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:54:30.901 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:54:30.904 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:30.906 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:30.907 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:54:30.907 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:54:30.909 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:30.909 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:30.911 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:54:30.911 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:54:30.912 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:30.913 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-05-21 15:54:30.914 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:30.915 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:30.916 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:30.917 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:30.920 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:54:30.922 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:54:30.922 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 15:54:30.923 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:30.924 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:30.925 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:54:30.926 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-05-21 15:54:30.927 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-05-21 15:54:30.928 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:30.929 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:30.931 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:54:30.932 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:30.933 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 15:54:30.936 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:30.937 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:54:30.939 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:54:30.941 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:54:30.942 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:54:30.943 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:54:30.943 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:54:30.944 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:54:30.945 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 41.6485ms
2024-05-21 15:54:30.947 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:30.948 +01:00 [DBG] Connection id "0HN3PKMRVD44I" completed keep alive response.
2024-05-21 15:54:30.949 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:54:30.949 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:30.951 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:54:30.955 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=cathedral - 200 68 application/json; charset=utf-8 72.6328ms
2024-05-21 15:54:36.825 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=cathedral - null null
2024-05-21 15:54:36.828 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 15:54:36.829 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 15:54:36.830 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 15:54:36.831 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:36.832 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:36.833 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 15:54:36.836 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 15:54:36.838 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 15:54:36.840 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 15:54:36.841 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 15:54:36.842 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 15:54:36.844 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:36.845 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 15:54:36.847 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 15:54:36.848 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-05-21 15:54:36.849 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:36.850 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 15:54:36.852 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 15:54:36.853 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 15:54:36.854 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:36.855 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-05-21 15:54:36.857 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:36.858 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:36.859 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 15:54:36.860 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 15:54:36.861 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 15:54:36.863 +01:00 [DBG] Creating DbConnection.
2024-05-21 15:54:36.864 +01:00 [DBG] Created DbConnection. (0ms).
2024-05-21 15:54:36.865 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:36.866 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:36.868 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 15:54:36.870 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 15:54:36.871 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-21 15:54:36.873 +01:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:36.875 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 9)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0 AND ("c"."Name" = @__searchQuery_1 OR ("c"."Description" IS NOT NULL AND instr("c"."Description", @__searchQuery_1) > 0))
ORDER BY "c"."Name"
2024-05-21 15:54:36.877 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 15:54:36.878 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:36.879 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 15:54:36.881 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 15:54:36.882 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (1ms).
2024-05-21 15:54:36.884 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 15:54:36.891 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 15:54:36.893 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 15:54:36.895 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 15:54:36.897 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 15:54:36.900 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 15:54:36.903 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 59.1263ms
2024-05-21 15:54:36.905 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 15:54:36.908 +01:00 [DBG] Connection id "0HN3PKMRVD44I" completed keep alive response.
2024-05-21 15:54:36.909 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 15:54:36.910 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 15:54:36.912 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 15:54:36.914 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?name=Antwerp&searchQuery=cathedral - 200 68 application/json; charset=utf-8 88.5285ms
2024-05-21 16:17:31.338 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 16:17:31.519 +01:00 [DBG] Hosting starting
2024-05-21 16:17:31.750 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 16:17:31.751 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 16:17:31.753 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 16:17:31.754 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 16:17:31.754 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 16:17:31.756 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 16:17:31.757 +01:00 [INF] Hosting environment: Development
2024-05-21 16:17:31.758 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 16:17:31.759 +01:00 [DBG] Hosting started
2024-05-21 16:17:41.345 +01:00 [DBG] Connection id "0HN3PL4K5S2SO" received FIN.
2024-05-21 16:17:41.352 +01:00 [DBG] Connection id "0HN3PL4K5S2SO" accepted.
2024-05-21 16:17:41.354 +01:00 [DBG] Connection id "0HN3PL4K5S2SO" started.
2024-05-21 16:17:41.356 +01:00 [DBG] Connection id "0HN3PL4K5S2SP" accepted.
2024-05-21 16:17:41.358 +01:00 [DBG] Connection id "0HN3PL4K5S2SP" started.
2024-05-21 16:17:41.377 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 16:17:41.436 +01:00 [DBG] Connection id "0HN3PL4K5S2SO" stopped.
2024-05-21 16:17:41.439 +01:00 [DBG] Connection 0HN3PL4K5S2SP established using the following protocol: "Tls13"
2024-05-21 16:17:41.441 +01:00 [DBG] Connection id "0HN3PL4K5S2SO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 16:17:41.485 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities - null null
2024-05-21 16:17:41.502 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 16:17:41.523 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 16:17:41.550 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 16:17:41.555 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 16:17:41.559 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:17:41.564 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:17:41.595 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 16:17:41.620 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 16:17:41.623 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 16:17:41.628 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 16:17:41.652 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 16:17:41.655 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 16:17:41.669 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:17:41.797 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 16:17:41.821 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:17:41.839 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 16:17:41.847 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 16:17:41.861 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 16:17:41.878 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:17:41.893 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:17:41.908 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 16:17:41.912 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 16:17:41.927 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:17:41.941 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 16:17:41.943 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:17:41.959 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:17:41.974 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:17:41.977 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:17:41.992 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:17:42.008 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:17:42.010 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-05-21 16:17:42.025 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:17:42.042 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:17:42.061 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:17:42.073 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:17:42.077 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:17:42.083 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:17:42.086 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-05-21 16:17:42.094 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:17:42.100 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:17:42.110 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:17:42.115 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:17:42.117 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:17:42.787 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 16:17:42.821 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-05-21 16:17:43.037 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 16:17:43.076 +01:00 [DBG] Creating DbConnection.
2024-05-21 16:17:43.088 +01:00 [DBG] Created DbConnection. (10ms).
2024-05-21 16:17:43.093 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:17:43.107 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:17:43.126 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:17:43.134 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-05-21 16:17:43.145 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-05-21 16:17:43.157 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:17:43.194 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:17:43.228 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:17:43.248 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:17:43.251 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:17:43.260 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:17:43.279 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 68ms reading results.
2024-05-21 16:17:43.294 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:17:43.310 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (15ms).
2024-05-21 16:17:43.337 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 16:17:43.359 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 16:17:43.374 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 16:17:43.387 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 16:17:43.390 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 16:17:43.393 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 16:17:43.509 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1838.3279ms
2024-05-21 16:17:43.513 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:17:43.514 +01:00 [DBG] Connection id "0HN3PL4K5S2SP" completed keep alive response.
2024-05-21 16:17:43.519 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 16:17:43.525 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:17:43.529 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 16:17:43.533 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities - 200 205 application/json; charset=utf-8 2052.4653ms
2024-05-21 16:18:55.398 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=1 - null null
2024-05-21 16:18:55.421 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 16:18:55.424 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 16:18:55.430 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 16:18:55.451 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:18:55.471 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:18:55.473 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 16:18:55.528 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 16:18:55.530 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 16:18:55.533 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 16:18:55.556 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 16:18:55.560 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 16:18:55.595 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:18:55.601 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:18:55.611 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 16:18:55.618 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 16:18:55.620 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 16:18:55.633 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:18:55.636 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:18:55.649 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 16:18:55.653 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 16:18:55.666 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:18:55.669 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 16:18:55.685 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:18:55.698 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:18:55.702 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:18:55.712 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:18:55.727 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:18:55.737 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:18:55.744 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-05-21 16:18:55.759 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:18:55.777 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:18:55.787 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:18:55.790 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:18:55.791 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:18:55.794 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-05-21 16:18:55.803 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:18:55.806 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:18:55.811 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:18:55.819 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:18:55.838 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 16:18:55.845 +01:00 [DBG] Creating DbConnection.
2024-05-21 16:18:55.856 +01:00 [DBG] Created DbConnection. (10ms).
2024-05-21 16:18:55.859 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:18:55.873 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:18:55.892 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:18:55.902 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-05-21 16:18:55.908 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-05-21 16:18:55.911 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:18:55.939 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:18:55.955 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:18:55.962 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:18:55.970 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 14ms reading results.
2024-05-21 16:18:55.975 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:18:55.979 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 16:18:55.983 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 16:18:55.996 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 16:18:56.002 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 16:18:56.007 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 16:18:56.010 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 16:18:56.018 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 16:18:56.027 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 432.1002ms
2024-05-21 16:18:56.034 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:18:56.036 +01:00 [DBG] Connection id "0HN3PL4K5S2SP" completed keep alive response.
2024-05-21 16:18:56.049 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 16:18:56.060 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:18:56.071 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (11ms).
2024-05-21 16:18:56.078 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=1 - 200 68 application/json; charset=utf-8 679.8841ms
2024-05-21 16:19:08.440 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=2 - null null
2024-05-21 16:19:08.446 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 16:19:08.447 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 16:19:08.449 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 16:19:08.451 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:19:08.455 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:19:08.456 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 16:19:08.490 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 16:19:08.511 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 16:19:08.532 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 16:19:08.543 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 16:19:08.551 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 16:19:08.567 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:19:08.585 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:19:08.587 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 16:19:08.602 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 16:19:08.605 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 16:19:08.618 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:19:08.620 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:19:08.641 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 16:19:08.643 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 16:19:08.667 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:19:08.669 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 16:19:08.675 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:19:08.680 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:19:08.685 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:19:08.689 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:19:08.692 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:19:08.705 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:19:08.707 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-05-21 16:19:08.723 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:19:08.742 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:19:08.756 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:19:08.758 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:19:08.775 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:19:08.786 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-05-21 16:19:08.790 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:19:08.792 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:19:08.794 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:19:08.803 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:19:08.880 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 16:19:08.885 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2024-05-21 16:19:08.892 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 16:19:08.913 +01:00 [DBG] Creating DbConnection.
2024-05-21 16:19:08.915 +01:00 [DBG] Created DbConnection. (2ms).
2024-05-21 16:19:08.921 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:19:08.923 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:19:08.926 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:19:08.928 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 16:19:08.931 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-21 16:19:08.933 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-05-21 16:19:08.950 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-05-21 16:19:08.970 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:19:08.977 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:19:08.987 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 17ms reading results.
2024-05-21 16:19:09.003 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:19:09.020 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (16ms).
2024-05-21 16:19:09.022 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 16:19:09.039 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 16:19:09.041 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 16:19:09.053 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 16:19:09.061 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 16:19:09.065 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 16:19:09.067 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 500.1879ms
2024-05-21 16:19:09.069 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:19:09.070 +01:00 [DBG] Connection id "0HN3PL4K5S2SP" completed keep alive response.
2024-05-21 16:19:09.072 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 16:19:09.081 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:19:09.090 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (8ms).
2024-05-21 16:19:09.092 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=2 - 200 76 application/json; charset=utf-8 652.142ms
2024-05-21 16:19:23.792 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=3 - null null
2024-05-21 16:19:23.795 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 16:19:23.797 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 16:19:23.799 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 16:19:23.802 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:19:23.804 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:19:23.809 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 16:19:23.844 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 16:19:23.846 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 16:19:23.870 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 16:19:23.891 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 16:19:23.909 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 16:19:23.912 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:19:23.920 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:19:23.922 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 16:19:23.937 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 16:19:23.939 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 16:19:23.954 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:19:23.956 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:19:23.965 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 16:19:23.967 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 16:19:23.973 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:19:23.977 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 16:19:23.980 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:19:24.011 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:19:24.014 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:19:24.037 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:19:24.039 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:19:24.048 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:19:24.050 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-05-21 16:19:24.062 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:19:24.086 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:19:24.089 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:19:24.100 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:19:24.107 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:19:24.109 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-05-21 16:19:24.129 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:19:24.153 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:19:24.156 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:19:24.174 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:19:24.176 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 16:19:24.202 +01:00 [DBG] Creating DbConnection.
2024-05-21 16:19:24.221 +01:00 [DBG] Created DbConnection. (19ms).
2024-05-21 16:19:24.223 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:19:24.244 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:19:24.269 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:19:24.273 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 16:19:24.294 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2024-05-21 16:19:24.297 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:19:24.331 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:19:24.368 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:19:24.383 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:19:24.407 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 38ms reading results.
2024-05-21 16:19:24.413 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:19:24.424 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (11ms).
2024-05-21 16:19:24.430 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 16:19:24.461 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 16:19:24.463 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 16:19:24.479 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 16:19:24.495 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 16:19:24.512 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 16:19:24.543 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 630.7792ms
2024-05-21 16:19:24.546 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:19:24.565 +01:00 [DBG] Connection id "0HN3PL4K5S2SP" completed keep alive response.
2024-05-21 16:19:24.574 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 16:19:24.576 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:19:24.579 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 16:19:24.583 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=3 - 200 63 application/json; charset=utf-8 791.0346ms
2024-05-21 16:31:15.554 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 16:31:15.713 +01:00 [DBG] Hosting starting
2024-05-21 16:31:15.900 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 16:31:15.901 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 16:31:15.902 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 16:31:15.903 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 16:31:15.903 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 16:31:15.904 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 16:31:15.905 +01:00 [INF] Hosting environment: Development
2024-05-21 16:31:15.906 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 16:31:15.907 +01:00 [DBG] Hosting started
2024-05-21 16:31:28.177 +01:00 [DBG] Connection id "0HN3PLCAJ54TK" received FIN.
2024-05-21 16:31:28.183 +01:00 [DBG] Connection id "0HN3PLCAJ54TK" accepted.
2024-05-21 16:31:28.187 +01:00 [DBG] Connection id "0HN3PLCAJ54TK" started.
2024-05-21 16:31:28.189 +01:00 [DBG] Connection id "0HN3PLCAJ54TL" accepted.
2024-05-21 16:31:28.191 +01:00 [DBG] Connection id "0HN3PLCAJ54TL" started.
2024-05-21 16:31:28.206 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 16:31:28.249 +01:00 [DBG] Connection 0HN3PLCAJ54TL established using the following protocol: "Tls13"
2024-05-21 16:31:28.250 +01:00 [DBG] Connection id "0HN3PLCAJ54TK" stopped.
2024-05-21 16:31:28.256 +01:00 [DBG] Connection id "0HN3PLCAJ54TK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 16:31:28.285 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=3 - null null
2024-05-21 16:31:28.299 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 16:31:28.319 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 16:31:28.346 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 16:31:28.350 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 16:31:28.353 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:31:28.358 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:31:28.380 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 16:31:28.385 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 16:31:28.386 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 16:31:28.389 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 16:31:28.395 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 16:31:28.398 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 16:31:28.407 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:31:28.514 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 16:31:28.531 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:31:28.550 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 16:31:28.557 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 16:31:28.561 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 16:31:28.563 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:31:28.567 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:31:28.568 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 16:31:28.583 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 16:31:28.585 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:31:28.598 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 16:31:28.600 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:31:28.615 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:31:28.630 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:31:28.631 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:31:28.646 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:31:28.647 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:31:28.662 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-05-21 16:31:28.673 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:31:28.680 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:31:28.681 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:31:28.696 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:31:28.697 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:31:28.711 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-05-21 16:31:28.724 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:31:28.727 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:31:28.736 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:31:28.752 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:31:29.340 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 16:31:29.363 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-05-21 16:31:29.543 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 16:31:29.578 +01:00 [DBG] Creating DbConnection.
2024-05-21 16:31:29.590 +01:00 [DBG] Created DbConnection. (7ms).
2024-05-21 16:31:29.595 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:31:29.615 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:31:29.627 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:31:29.644 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2024-05-21 16:31:29.655 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-05-21 16:31:29.675 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:31:29.700 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:31:29.724 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:31:29.740 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 17ms reading results.
2024-05-21 16:31:29.754 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:31:29.769 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (14ms).
2024-05-21 16:31:29.788 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-05-21 16:31:29.843 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 16:31:29.854 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:31:29.864 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:31:29.866 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:31:29.867 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 16:31:29.871 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-05-21 16:31:29.875 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:31:29.881 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:31:29.912 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:31:29.929 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:31:29.932 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 36ms reading results.
2024-05-21 16:31:29.934 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:31:29.937 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 16:31:29.973 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 16:31:29.979 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 16:31:29.980 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 16:31:29.982 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 16:31:29.984 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 16:31:29.986 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 16:31:30.094 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1686.1051ms
2024-05-21 16:31:30.097 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:31:30.098 +01:00 [DBG] Connection id "0HN3PLCAJ54TL" completed keep alive response.
2024-05-21 16:31:30.103 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 16:31:30.108 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:31:30.112 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 16:31:30.115 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=3 - 200 63 application/json; charset=utf-8 1832.8603ms
2024-05-21 16:32:53.841 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 16:32:54.058 +01:00 [DBG] Hosting starting
2024-05-21 16:32:54.289 +01:00 [INF] Now listening on: https://localhost:7165
2024-05-21 16:32:54.290 +01:00 [INF] Now listening on: http://localhost:5030
2024-05-21 16:32:54.291 +01:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-05-21 16:32:54.292 +01:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-05-21 16:32:54.293 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-05-21 16:32:54.293 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 16:32:54.294 +01:00 [INF] Hosting environment: Development
2024-05-21 16:32:54.295 +01:00 [INF] Content root path: C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API
2024-05-21 16:32:54.296 +01:00 [DBG] Hosting started
2024-05-21 16:32:57.828 +01:00 [DBG] Connection id "0HN3PLD5A4EVS" received FIN.
2024-05-21 16:32:57.835 +01:00 [DBG] Connection id "0HN3PLD5A4EVS" accepted.
2024-05-21 16:32:57.838 +01:00 [DBG] Connection id "0HN3PLD5A4EVS" started.
2024-05-21 16:32:57.840 +01:00 [DBG] Connection id "0HN3PLD5A4EVT" accepted.
2024-05-21 16:32:57.841 +01:00 [DBG] Connection id "0HN3PLD5A4EVT" started.
2024-05-21 16:32:57.858 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-05-21 16:32:57.898 +01:00 [DBG] Connection id "0HN3PLD5A4EVS" stopped.
2024-05-21 16:32:57.899 +01:00 [DBG] Connection 0HN3PLD5A4EVT established using the following protocol: "Tls13"
2024-05-21 16:32:57.903 +01:00 [DBG] Connection id "0HN3PLD5A4EVS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 16:32:57.936 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=3 - null null
2024-05-21 16:32:57.949 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 16:32:57.965 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 16:32:57.992 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 16:32:57.996 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 16:32:58.000 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:32:58.010 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:32:58.039 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 16:32:58.045 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 16:32:58.047 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 16:32:58.048 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 16:32:58.053 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 16:32:58.056 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 16:32:58.059 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:32:58.171 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 16:32:58.190 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:32:58.208 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 16:32:58.213 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 16:32:58.220 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 16:32:58.237 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:32:58.252 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:32:58.265 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 16:32:58.269 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 16:32:58.282 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:32:58.284 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 16:32:58.296 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:32:58.311 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:32:58.313 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:32:58.327 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:32:58.329 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:32:58.343 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:32:58.344 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-05-21 16:32:58.360 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:32:58.370 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:32:58.372 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:32:58.375 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:32:58.376 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:32:58.377 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-05-21 16:32:58.379 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:32:58.386 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:32:58.395 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:32:58.398 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:32:58.975 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 16:32:58.998 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-05-21 16:32:59.163 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-05-21 16:32:59.191 +01:00 [DBG] Creating DbConnection.
2024-05-21 16:32:59.204 +01:00 [DBG] Created DbConnection. (10ms).
2024-05-21 16:32:59.209 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:32:59.223 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:32:59.231 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:32:59.238 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-21 16:32:59.245 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-05-21 16:32:59.252 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:32:59.292 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:32:59.319 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:32:59.330 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 13ms reading results.
2024-05-21 16:32:59.337 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:32:59.344 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (7ms).
2024-05-21 16:32:59.362 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-05-21 16:32:59.417 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 16:32:59.427 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:32:59.436 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:32:59.440 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:32:59.441 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 16:32:59.444 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-05-21 16:32:59.447 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:32:59.454 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:32:59.479 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:32:59.495 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:32:59.498 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 34ms reading results.
2024-05-21 16:32:59.513 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:32:59.518 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (4ms).
2024-05-21 16:32:59.562 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 16:32:59.569 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 16:32:59.571 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 16:32:59.573 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 16:32:59.575 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 16:32:59.577 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 16:32:59.676 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1615.6634ms
2024-05-21 16:32:59.679 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:32:59.681 +01:00 [DBG] Connection id "0HN3PLD5A4EVT" completed keep alive response.
2024-05-21 16:32:59.687 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 16:32:59.694 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:32:59.697 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 16:32:59.709 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=3 - 200 63 application/json; charset=utf-8 1777.9715ms
2024-05-21 16:33:01.990 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=3 - null null
2024-05-21 16:33:01.994 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 16:33:01.995 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 16:33:01.996 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 16:33:01.998 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:33:02.000 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:33:02.006 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 16:33:02.016 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 16:33:02.023 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 16:33:02.025 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 16:33:02.048 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 16:33:02.051 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 16:33:02.082 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:33:02.099 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:33:02.101 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 16:33:02.116 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 16:33:02.131 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 16:33:02.134 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:33:02.147 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:33:02.149 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 16:33:02.166 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 16:33:02.180 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:33:02.182 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 16:33:02.184 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:02.192 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:02.201 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:02.207 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:33:02.209 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:02.217 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:33:02.223 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-05-21 16:33:02.232 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:33:02.239 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:33:02.241 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:33:02.249 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:33:02.257 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:33:02.259 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-05-21 16:33:02.274 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:33:02.289 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:33:02.291 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:33:02.302 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:33:02.328 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 16:33:02.333 +01:00 [DBG] Creating DbConnection.
2024-05-21 16:33:02.344 +01:00 [DBG] Created DbConnection. (11ms).
2024-05-21 16:33:02.348 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:33:02.350 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:02.364 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:33:02.365 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 16:33:02.377 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-05-21 16:33:02.380 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:33:02.393 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:33:02.413 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:02.427 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 14ms reading results.
2024-05-21 16:33:02.442 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:02.451 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (9ms).
2024-05-21 16:33:02.456 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:33:02.459 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:02.474 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:33:02.477 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 16:33:02.489 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-05-21 16:33:02.492 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:33:02.507 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-05-21 16:33:02.532 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:33:02.540 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:02.554 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 22ms reading results.
2024-05-21 16:33:02.564 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:02.578 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (14ms).
2024-05-21 16:33:02.581 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 16:33:02.599 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 16:33:02.612 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 16:33:02.616 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 16:33:02.629 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 16:33:02.633 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 16:33:02.649 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 566.4765ms
2024-05-21 16:33:02.663 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:33:02.665 +01:00 [DBG] Connection id "0HN3PLD5A4EVT" completed keep alive response.
2024-05-21 16:33:02.677 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 16:33:02.681 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:33:02.683 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 16:33:02.698 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=3 - 200 63 application/json; charset=utf-8 708.5056ms
2024-05-21 16:33:06.348 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=2 - null null
2024-05-21 16:33:06.353 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 16:33:06.354 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 16:33:06.356 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 16:33:06.360 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:33:06.362 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:33:06.363 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 16:33:06.374 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 16:33:06.387 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 16:33:06.396 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 16:33:06.409 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 16:33:06.414 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 16:33:06.430 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:33:06.435 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:33:06.444 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 16:33:06.448 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 16:33:06.450 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 16:33:06.464 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:33:06.466 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:33:06.480 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 16:33:06.483 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 16:33:06.499 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:33:06.509 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 16:33:06.511 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:06.514 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:06.515 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:06.518 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:33:06.519 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:06.525 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:33:06.527 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-05-21 16:33:06.538 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:33:06.552 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:33:06.554 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:33:06.563 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:33:06.566 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:33:06.572 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-05-21 16:33:06.585 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:33:06.587 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:33:06.599 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:33:06.609 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:33:06.669 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 16:33:06.673 +01:00 [DBG] Creating DbConnection.
2024-05-21 16:33:06.675 +01:00 [DBG] Created DbConnection. (1ms).
2024-05-21 16:33:06.677 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:33:06.679 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:06.681 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:33:06.683 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-05-21 16:33:06.685 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-05-21 16:33:06.687 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:33:06.697 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:33:06.727 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:06.738 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 10ms reading results.
2024-05-21 16:33:06.741 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:06.744 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (2ms).
2024-05-21 16:33:06.746 +01:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2024-05-21 16:33:06.754 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-05-21 16:33:06.774 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:33:06.777 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:06.780 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:33:06.785 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-21 16:33:06.795 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-05-21 16:33:06.799 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-05-21 16:33:06.811 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-05-21 16:33:06.827 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:33:06.840 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:06.846 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 19ms reading results.
2024-05-21 16:33:06.861 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:06.871 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (10ms).
2024-05-21 16:33:06.873 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 16:33:06.889 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 16:33:06.894 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 16:33:06.904 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 16:33:06.905 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 16:33:06.913 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 16:33:06.929 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 498.6904ms
2024-05-21 16:33:06.945 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:33:06.947 +01:00 [DBG] Connection id "0HN3PLD5A4EVT" completed keep alive response.
2024-05-21 16:33:06.960 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 16:33:06.962 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:33:06.975 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (12ms).
2024-05-21 16:33:06.977 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=2 - 200 76 application/json; charset=utf-8 628.8469ms
2024-05-21 16:33:27.585 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=2 - null null
2024-05-21 16:33:27.593 +01:00 [DBG] The request path  does not match the path filter
2024-05-21 16:33:27.594 +01:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-05-21 16:33:27.596 +01:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-05-21 16:33:27.598 +01:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:33:27.600 +01:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:33:27.602 +01:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointsOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-05-21 16:33:27.606 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 16:33:27.607 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 16:33:27.613 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 16:33:27.625 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 16:33:27.629 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 16:33:27.643 +01:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:33:27.645 +01:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-05-21 16:33:27.659 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-05-21 16:33:27.661 +01:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-05-21 16:33:27.678 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-05-21 16:33:27.682 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:33:27.698 +01:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-05-21 16:33:27.715 +01:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-05-21 16:33:27.717 +01:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-05-21 16:33:27.723 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:33:27.725 +01:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-05-21 16:33:27.734 +01:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:27.741 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:27.755 +01:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:27.757 +01:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-05-21 16:33:27.771 +01:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-05-21 16:33:27.773 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:33:27.785 +01:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-05-21 16:33:27.796 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:33:27.801 +01:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:33:27.812 +01:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-05-21 16:33:27.817 +01:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-05-21 16:33:27.831 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:33:27.848 +01:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-05-21 16:33:27.864 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:33:27.880 +01:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:33:27.883 +01:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-05-21 16:33:27.897 +01:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-05-21 16:33:27.917 +01:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:8.0.0' with options: None
2024-05-21 16:33:27.930 +01:00 [DBG] Creating DbConnection.
2024-05-21 16:33:27.931 +01:00 [DBG] Created DbConnection. (1ms).
2024-05-21 16:33:27.933 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:33:27.936 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:27.941 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:33:27.949 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-05-21 16:33:27.955 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-05-21 16:33:27.958 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:33:27.971 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-05-21 16:33:27.980 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:27.983 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 2ms reading results.
2024-05-21 16:33:27.991 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:28.006 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (15ms).
2024-05-21 16:33:28.023 +01:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:33:28.025 +01:00 [DBG] Opened connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:28.039 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 16:33:28.054 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2024-05-21 16:33:28.064 +01:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2024-05-21 16:33:28.080 +01:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-05-21 16:33:28.096 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-05-21 16:33:28.130 +01:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 16:33:28.147 +01:00 [DBG] Closing data reader to 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:28.163 +01:00 [DBG] A data reader for 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db' is being disposed after spending 32ms reading results.
2024-05-21 16:33:28.178 +01:00 [DBG] Closing connection to database 'main' on server 'C:\Users\nathan.yates_ivendi\source\repos\CityInfo\CityInfo.API\CityInfo.db'.
2024-05-21 16:33:28.194 +01:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db' (15ms).
2024-05-21 16:33:28.209 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-05-21 16:33:28.237 +01:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 16:33:28.240 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 16:33:28.260 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 16:33:28.262 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 16:33:28.277 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointsOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 16:33:28.279 +01:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 636.1104ms
2024-05-21 16:33:28.296 +01:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-05-21 16:33:28.297 +01:00 [DBG] Connection id "0HN3PLD5A4EVT" completed keep alive response.
2024-05-21 16:33:28.300 +01:00 [DBG] 'CityInfoContext' disposed.
2024-05-21 16:33:28.303 +01:00 [DBG] Disposing connection to database 'main' on server 'CityInfo.db'.
2024-05-21 16:33:28.307 +01:00 [DBG] Disposed connection to database 'main' on server 'CityInfo.db' (3ms).
2024-05-21 16:33:28.310 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7165/api/cities?pageSize=1&pageNumber=2 - 200 76 application/json; charset=utf-8 725.4997ms
